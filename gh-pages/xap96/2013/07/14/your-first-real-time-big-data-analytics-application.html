<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Your First Real Time Big Data Analytics Application</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="stylesheet" href="/css/bootstrap.css">
    <link rel="stylesheet" href="/css/font-awesome.css">
    <link rel="stylesheet" href="/css/jquery.treeview.css">
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body>
    <div class="container">
      <header class="row">
        <div class="span12">
          <h1>Your First Real Time Big Data Analytics Application</h1>
        </div>
      </header>

      <div class="row">
        <div class='col-md-4'>
          <div>
  Browse XAP 9.6
</div>
<ul id='navigation'>
  <li>
    <a href="/xap96/2012/07/16/quick-start-guide.html" title="Quick Start Guide">
      Quick Start Guide
    </a>
    <ul>
      <li class='closed'>
        <a href="/xap96/2013/07/21/screen-casts.html">
          Screen Casts
        </a>
      </li>
      <li class='closed'>
        <a href="/xap96/2013/04/10/your-first-data-grid-application2.html">
          Your First Data Grid Application
        </a>
      </li>
      <li class='closed'>
        <a href="/xap96/2013/04/03/your-first-web-application.html">
          Your First Web Application
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2013/04/03/step-1---deploying-your-web-application-to-the-gigaspaces-environment.html">
              Step 1 - Deploying Your Web Application to the GigaSpaces Environment
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/04/03/step-2---enabling-http-session-failover-and-fault-tolerance.html">
              Step 2 - Enabling HTTP Session Failover and Fault Tolerance
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/04/03/step-3---scaling-the-data-access-layer.html">
              Step 3 - Scaling the Data Access Layer
            </a>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2012/07/08/your-first-xtp-application.html">
          Your First XTP Application
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2012/07/08/setting-up-your-ide-to-work-with-gigaspaces.html">
              Setting Up your IDE to work with GigaSpaces
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/07/08/step-one---using-processing-units-for-scaling.html">
              Step One - Using Processing Units for Scaling
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/01/21/step-two---creating-the-hello-world-application.html">
              Step Two - Creating the Hello World Application
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2011/02/20/step-three---deploying-onto-the-service-grid.html">
              Step Three - Deploying onto the Service Grid
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/07/08/step-four---scaling-the-hello-world-application.html">
              Step Four - Scaling the Hello World Application
            </a>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2012/10/15/your-first-jpa-application.html">
          Your First JPA Application
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2012/10/15/step-1---adjusting-your-jpa-domain-model-to-the-xap-jpa-implementation.html">
              Step 1 - Adjusting Your JPA Domain Model to the XAP JPA Implementation
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/09/02/step-2---using-the-power-of-the-space-to-scale-your-data-access-layer.html">
              Step 2 - Using the Power of the Space to Scale Your Data Access Layer
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/10/21/step-3---building-and-running-the-application.html">
              Step 3 - Building and Running the Application
            </a>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2009/06/23/beyond-the-basics.html">
          Beyond the Basics
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2012/05/10/the-openspaces-data-example.html">
              The OpenSpaces Data Example
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/07/21/xap-order-management-tutorial.html">
              XAP Order Management Tutorial
            </a>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2013/07/14/your-first-real-time-big-data-analytics-application.html">
          Your First Real Time Big Data Analytics Application
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/xap96/2008/09/15/product-overview.html" title="Product Overview">
      Product Overview
    </a>
    <ul>
      <li class='closed'>
        <a href="/xap96/2011/03/22/concepts.html">
          Concepts
        </a>
      </li>
      <li class='closed'>
        <a href="/xap96/2011/06/09/a-typical-sba-application.html">
          A Typical SBA Application
        </a>
      </li>
      <li class='closed'>
        <a href="/xap96/2012/12/12/database-integration.html">
          Database Integration
        </a>
      </li>
      <li class='closed'>
        <a href="/xap96/2011/10/02/product-architecture.html">
          Product Architecture
        </a>
      </li>
      <li class='closed'>
        <a href="/xap96/2012/04/09/the-application-layer.html">
          The Application Layer
        </a>
      </li>
      <li class='closed'>
        <a href="/xap96/2011/09/07/terminology---space-based-architecture.html">
          Terminology
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2011/07/29/terminology---basic-components.html">
              Terminology - Basic Components
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2011/02/25/terminology---data-grid-topologies.html">
              Terminology - Data Grid Topologies
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2011/09/07/terminology---runtime-components.html">
              Terminology - Runtime Components
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2011/09/07/terminology---space-based-architecture.html">
              Terminology - Space-Based Architecture
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <a href="/xap96/2008/09/16/programmer's-guide.html" title="Programmer's Guide">
      Programmer's Guide
    </a>
    <ul>
      <li class='closed'>
        <a href="/xap96/2013/02/28/getting-started.html">
          Getting Started
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2013/02/25/setting-up-your-ide-to-work-with-xap.html">
              Setting Up your IDE to work with XAP
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/01/04/running-and-debugging-within-your-ide.html">
              Running and Debugging Within Your IDE
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/09/02/the-runtime-environment.html">
              The Runtime Environment
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2012/06/05/the-grid-service-agent.html">
                  The Grid Service Agent
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/03/18/the-grid-service-container.html">
                  The Grid Service Container
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2011/09/07/the-grid-service-manager.html">
                  The Grid Service Manager
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2011/09/07/the-lookup-service.html">
                  The Lookup Service
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/02/14/packaging-and-deployment.html">
              Packaging and Deployment
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2013/03/11/the-processing-unit-structure-and-configuration.html">
                  The Processing Unit Structure and Configuration
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2012/09/04/configuring-processing-unit-elements.html">
                      Configuring Processing Unit Elements
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/12/27/configuring-the-processing-unit-sla.html">
                      Configuring the Processing Unit SLA
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/05/03/custom-processing-unit-details-and-monitors.html">
                      Custom Processing Unit Details and Monitors
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/12/28/deployment-properties.html">
                      Deployment Properties
                    </a>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2011/09/07/deploying-and-running-the-processing-unit.html">
                  Deploying and Running the Processing Unit
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2013/02/21/deploying-onto-the-service-grid.html">
                      Deploying onto the Service Grid
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/09/11/running-in-standalone-mode.html">
                      Running in Standalone Mode
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/05/25/elastic-processing-unit.html">
                      Elastic Processing Unit
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2011/09/07/elastic-processing-unit---take-2.html">
                          Elastic Processing Unit - take 2
                        </a>
                        <ul>
                          <li class='closed'>
                            <a href="/xap96/2011/03/31/elastic-space-processing-unit.html">
                              Elastic Space Processing Unit
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/03/31/elastic-statelful-processing-unit.html">
                              Elastic Statelful Processing Unit
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/03/31/elastic-stateless-processing-unit.html">
                              Elastic Stateless Processing Unit
                            </a>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2012/08/28/deploying-your-application-on-a-cloud.html">
                  Deploying your Application on a Cloud
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2012/12/17/obtaining-cluster-information.html">
                  Obtaining Cluster Information
                </a>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2012/10/15/main-modules.html">
          Main Modules
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2013/05/25/the-in-memory-data-grid.html">
              The In-Memory Data Grid
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2012/12/24/space-topologies.html">
                  Space Topologies
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2013/03/29/multi-site-replication-over-the-wan.html">
                      Multi-Site Replication over the WAN
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2013/06/03/communication-filter-over-the-wan-%28ssl,zip%29.html">
                          Communication Filter Over the Wan (SSL,ZIP)
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2013/01/31/replication-gateway-components.html">
                          Replication Gateway Components
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/04/13/configuring-space-gateway-targets.html">
                          Configuring Space Gateway Targets
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/04/13/replication-gateway-bootstrapping-process.html">
                          Replication Gateway Bootstrapping Process
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/06/11/multi-site-conflict-resolution-9.0.1.html">
                          Multi-Site Conflict Resolution
                        </a>
                        <ul>
                          <li class='closed'>
                            <a href="/xap96/2012/06/11/multi-site-conflict-resolution-9.0.1.html">
                              Multi-Site Conflict Resolution 9.0.1
                            </a>
                          </li>
                        </ul>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/08/01/changing-multi-site-deployment-during-runtime.html">
                          Changing Multi-Site Deployment during Runtime
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/10/04/replication-gateway-filtering.html">
                          Replication Gateway Filtering
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/10/02/intercepting-replication-events-at-the-gateway.html">
                          Intercepting Replication Events at the Gateway
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/08/20/multi-site-replication-limitations.html">
                          Multi-Site Replication Limitations
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2011/08/05/multi-site-replication-over-the-wan---faq.html">
                          Multi-Site Replication over the WAN - FAQ
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/01/25/multi-space-replication-over-the-lan-or-vpn.html">
                      Multi-Space Replication over the LAN or VPN
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2012/09/24/replication-gateway-lan-bootstrapping-process.html">
                          Replication Gateway LAN Bootstrapping Process
                        </a>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/03/30/deploying-and-interacting-with-the-space.html">
                  Deploying and Interacting with the Space
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2012/12/19/the-space-component.html">
                      The Space Component
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2013/03/06/space-filters.html">
                          Space Filters
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2011/08/09/cluster-replication-filters.html">
                          Cluster Replication Filters
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2010/12/29/space-mode-context-loader.html">
                          Space Mode Context Loader
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/05/20/space-url.html">
                          Space URL
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/11/14/client-side-caching-over-the-wan.html">
                      Client Side Caching
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2011/11/11/local-view-and-local-cache.html">
                          Local Cache
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2013/04/03/local-view.html">
                          Local View
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2011/11/14/client-side-caching-over-the-wan.html">
                          Client-Side Caching over the WAN
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2011/11/14/monitoring-the-client-side-cache.html">
                          Monitoring the Client-Side Cache
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2009/06/28/programmatic-api-%28configurers%29.html">
                      Programmatic API (Configurers)
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/02/19/memory-management-facilities.html">
                      Memory Management Facilities
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2012/12/19/all-in-cache-cache-policy.html">
                          ALL IN CACHE-Cache Policy
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/12/16/custom-eviction-policy.html">
                          Custom Eviction Policy
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/12/19/lru-cache-policy.html">
                          LRU-Cache Policy
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/07/28/asynchronous-persistency-with-the-mirror.html">
                      Persistency
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2013/07/28/asynchronous-persistency-with-the-mirror.html">
                          Asynchronous Persistency with the Mirror
                        </a>
                        <ul>
                          <li class='closed'>
                            <a href="/xap96/2013/02/14/async-persistency---mirror---advanced.html">
                              Async Persistency - Mirror - Advanced
                            </a>
                          </li>
                        </ul>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/12/28/direct-persistency.html">
                          Direct Persistency
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/12/11/space-persistency-advanced-topics.html">
                          Persistency Advanced Topics
                        </a>
                        <ul>
                          <li class='closed'>
                            <a href="/xap96/2012/12/11/transient-entries.html">
                              Transient Entries
                            </a>
                          </li>
                        </ul>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/12/25/space-persistency-initial-load.html">
                          Space Persistency
                        </a>
                        <ul>
                          <li class='closed'>
                            <a href="/xap96/2012/12/28/cassandra-space-persistency.html">
                              Cassandra Space Persistency
                            </a>
                            <ul>
                              <li class='closed'>
                                <a href="/xap96/2012/12/28/cassandra-space-data-source.html">
                                  Cassandra Space Data Source
                                </a>
                              </li>
                              <li class='closed'>
                                <a href="/xap96/2012/12/28/cassandra-space-synchronization-endpoint.html">
                                  Cassandra Space Synchronization Endpoint
                                </a>
                              </li>
                              <li class='closed'>
                                <a href="/xap96/2012/12/11/hector-cassandra-client.html">
                                  Hector Cassandra Client
                                </a>
                              </li>
                            </ul>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2013/03/3/hibernate-space-persistency.html">
                              Hibernate Space Persistency
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2013/07/28/migrating-from-external-data-source-api.html">
                              Migrating From External Data Source API
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2013/02/24/space-data-source-api.html">
                              Space Data Source API
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2012/12/11/space-persistency-advanced-topics.html">
                              Space Persistency Advanced Topics
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2012/12/25/space-persistency-initial-load.html">
                              Space Persistency Initial Load
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2013/02/25/space-synchronization-endpoint-api.html">
                              Space Synchronization Endpoint API
                            </a>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/05/25/modeling-and-accessing-your-data.html">
                  Modeling and Accessing Your Data
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2013/08/20/clustered-vs-non-clustered-proxies.html">
                      Clustered vs Non-Clustered Proxies
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/03/24/modeling-your-data.html">
                      Modeling your data
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/03/12/pojo-support.html">
                      POJO Support
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2013/06/02/pojo-metadata.html">
                          POJO Metadata
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2011/02/06/parent-child-relationship.html">
                          Parent Child Relationship
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2013/07/15/dynamic-properties.html">
                          Dynamic Properties
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2013/03/15/storage-types---controlling-serialization.html">
                          Storage Types - Controlling Serialization
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/05/25/document-api.html">
                      Document API
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2013/05/25/extending-space-documents.html">
                          Extending Space Documents
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2011/11/07/document-pojo-interoperability.html">
                          Document-POJO Interoperability
                        </a>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/06/14/caching-scenarios.html">
                  Caching Scenarios
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2013/04/15/gigaspaces-for-hibernate-orm-users.html">
                      GigaSpaces for Hibernate ORM Users
                    </a>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2012/12/11/space-persistency-advanced-topics.html">
                  Advanced Topics
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2013/05/08/communication-protocol.html">
                      Communication Protocol
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/03/15/controlling-serialization-%28deprecated%29.html">
                      Controlling Serialization (Deprecated)
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/04/29/externalizable-support-%28deprecated%29.html">
                      Externalizable Support (Deprecated)
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/05/25/handling-large-objects.html">
                      Handling Large Objects
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/09/27/the-space-api.html">
              The Space API
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2013/03/30/the-gigaspace-interface.html">
                  The GigaSpace Interface
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2013/03/26/change-api-advanced.html">
                      Change API
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2013/03/26/change-api-advanced.html">
                          Change API Advanced
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/12/24/counters.html">
                      Counters
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/02/07/the-gigaspacecontext-annotation.html">
                      The GigaSpaceContext Annotation
                    </a>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/07/21/querying-the-space.html">
                  Querying The Space
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2013/07/21/id-queries.html">
                      Id Queries
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/03/20/template-matching.html">
                      Template Matching
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/07/21/sqlquery.html">
                      SQLQuery
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/07/21/query-nested-properties.html">
                      Query Nested Properties
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/07/21/query-user-defined-classes.html">
                      Query User Defined Classes
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/05/25/indexing.html">
                      Indexing
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/07/21/paging-support-with-space-iterator.html">
                      Paging Support with Space Iterator
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/06/23/getting-partial-results-using-projection-api.html">
                      Getting Partial Results Using Projection API
                    </a>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2011/06/23/space-object-id-operations.html">
                  Space Object ID Operations
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/05/25/routing-in-partitioned-spaces.html">
                  Routing In Partitioned Spaces
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/02/27/leases---automatic-expiration.html">
                  Leases - Automatic Expiration
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/02/13/fifo-support.html">
                  FIFO Support
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2013/01/23/fifo-grouping.html">
                      FIFO Grouping
                    </a>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/04/17/transaction-management.html">
                  Transaction Management
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2013/05/25/space-locking-and-blocking.html">
                      Space Locking and Blocking
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2012/06/21/gigaspaces-read-modifiers.html">
                          GigaSpaces Read Modifiers
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2011/11/15/optimistic-locking.html">
                          Optimistic Locking
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2011/04/21/pessimistic-locking.html">
                          Pessimistic Locking
                        </a>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/09/27/other-data-access-apis.html">
              Other Data Access APIs
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2011/06/03/jdbc-driver.html">
                  JDBC Driver
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2012/10/15/jpa-api.html">
                  JPA API
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2011/06/23/jpa-entity-id.html">
                      JPA Entity Id
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/02/03/jpa-relationships.html">
                      JPA Relationships
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/04/03/gigaspaces-jpa-limitations.html">
                      GigaSpaces JPA Limitations
                    </a>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/03/09/map-api.html">
                  Map API
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2012/10/15/memcached-api.html">
                  Memcached API
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/10/28/services-on-top-of-the-data-grid.html">
              Services on Top of the Data Grid
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2011/06/02/reloading-business-logic.html">
                  Reloading Business Logic
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/06/01/task-execution-over-the-space.html">
              Task Execution over the Space
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2013/06/02/aggregators.html">
                  Aggregators
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2009/08/31/dynamic-language-tasks.html">
                  Dynamic Language Tasks
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2011/05/24/space-based-remoting.html">
              Space Based Remoting
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2013/05/25/executor-based-remoting.html">
                  Executor Based Remoting
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/05/25/event-driven-remoting.html">
                  Event Driven Remoting
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/10/28/event-processing.html">
              Event Processing
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2013/03/04/archive-container.html">
                  Archive Container
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2013/07/13/cassandra-archive-operation-handler.html">
                      Cassandra Archive Operation Handler
                    </a>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/04/24/notify-container.html">
                  Notify Container
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2013/04/24/session-based-messaging-api.html">
                      Session Based Messaging API
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2012/04/16/durable-notifications.html">
                          Durable Notifications
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2011/02/09/slow-consumer.html">
                          Slow Consumer
                        </a>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/04/12/polling-container.html">
                  Polling Container
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2012/06/18/data-event-listener.html">
                  Data Event Listener
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2010/07/11/event-exception-handler.html">
                  Event Exception Handler
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/09/04/messaging-support.html">
              Messaging Support
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2011/03/27/jms-api-support.html">
                  JMS API Support
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2008/09/12/jms---basics.html">
                      JMS - Basics
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2010/05/06/jms-api-basic-usage.html">
                          JMS API Basic Usage
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2010/04/07/jms-messages-in-gigaspaces.html">
                          JMS Messages in GigaSpaces
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2011/12/02/jms-space-interoperability.html">
                          JMS-Space Interoperability
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2008/09/12/jms-administration-api.html">
                          JMS Administration API
                        </a>
                        <ul>
                          <li class='closed'>
                            <a href="/xap96/2008/05/22/working-with-gigaspaces-jndi.html">
                              Working with GigaSpaces JNDI
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2008/10/28/working-with-gsjmsadmin.html">
                              Working with GSJMSAdmin
                            </a>
                          </li>
                        </ul>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/05/02/using-jms-with-openspaces-example.html">
                          Using JMS with OpenSpaces Example
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2008/09/12/jms---advanced.html">
                      JMS - Advanced
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2011/02/14/jms-failover.html">
                          JMS Failover
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2008/05/22/jms-transactions-in-gigaspaces.html">
                          JMS Transactions in GigaSpaces
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2008/05/22/jms-user-security.html">
                          JMS User Security
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2011/02/14/browsing-jms-queues.html">
                          Browsing JMS Queues
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2011/02/14/jms-known-issues-and-considerations.html">
                          JMS Known Issues and Considerations
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2008/05/25/using-gigaspaces-jms-without-changing-the-classpath.html">
                          Using GigaSpaces JMS Without Changing the Classpath
                        </a>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/09/02/web-application-support.html">
              Web Application Support
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2012/05/26/global-http-session-sharing.html">
                  Global HTTP Session Sharing
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2012/08/01/web-processing-unit-container.html">
                  Web Processing Unit Container
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2013/03/17/web-jetty-processing-unit-container.html">
                      Web Jetty Processing Unit Container
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2012/05/26/http-session-management.html">
                          HTTP Session Management
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/03/3/apache-load-balancer-agent.html">
                      Apache Load Balancer Agent
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2012/10/15/admin-modules.html">
          Admin Modules
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2009/09/17/administration-and-monitoring-api-security.html">
              Administration and Monitoring API
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2012/08/06/dump.html">
                  Dump
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2010/12/25/logging-api.html">
                  Logging API
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/04/17/administrative-alerts.html">
                  Administrative Alerts
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2012/05/14/custom-triggering-of-an-alert.html">
                      Custom Triggering of an Alert
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/04/19/snmp-connectivity-via-alert-logging-gateway.html">
                      SNMP Connectivity via Alert Logging Gateway
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2008/09/03/integrations.html">
          Integrations
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2013/07/04/maven-plugin.html">
              Maven Plugin
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2008/10/27/maven-plugin---advanced.html">
                  Maven Plugin - Advanced
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/08/30/mule-esb.html">
              Mule ESB
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2012/09/04/mule-event-container-transport.html">
                  Mule Event Container Transport
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2012/08/30/mule-processing-unit.html">
                  Mule Processing Unit
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2012/10/30/mule-queue-provider.html">
                  Mule Queue Provider
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2012/10/31/mule-seda-model.html">
                  Mule SEDA Model
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2008/09/03/evaluating-performance-and-scalability.html">
              Scala
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2013/08/05/constructor-based-properties.html">
                  Constructor Based Properties
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/08/05/enhanced-xap-scala-repl.html">
                  Enhanced XAP Scala REPL
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/08/05/scala-predicate-based-queries.html">
                  Scala Predicate Based Queries
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/08/05/scala-scripting-executor.html">
                  Scala Scripting Executor
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/07/20/scala-task-execution.html">
                  Scala Task Execution
                </a>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2011/11/07/document-pojo-interoperability.html">
          Interoperability
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2011/12/26/platform-interoperability-in-gigaspaces.html">
              Platform Interoperability in GigaSpaces
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/03/05/rest-api.html">
              REST API
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/07/18/xap-cpp.html">
              XAP CPP
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2013/04/03/installing-cpp-api-package.html">
                  Installing CPP API Package
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2012/04/12/cpp-api-hello-world-example.html">
                  CPP API Hello World Example
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2010/04/29/cpp-api-basics.html">
                  CPP API Basics
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2012/04/01/cpp-type-converter.html">
                      CPP Type Converter
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/04/02/gigaspaces-cpp-api.html">
                      GigaSpaces CPP API
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2010/04/29/cpp-api-configuration-file.html">
                      CPP API Configuration File
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/07/18/cpp-api-code-generator.html">
                      CPP API Code Generator
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2013/07/18/cpp-api-mapping-file.html">
                          CPP API Mapping File
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2013/07/18/gsxml2cpp-utility.html">
                          gsxml2cpp Utility
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/06/29/cpp-api-examples.html">
                      CPP API Examples
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2011/02/22/cpp-api-usage-example.html">
                          CPP API Usage Example
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2010/04/30/gigaspaces-cpp-processing-unit-example.html">
                          GigaSpaces CPP Processing Unit Example
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/04/01/writing-existing-cpp-class-to-space.html">
                          Writing Existing CPP Class to Space
                        </a>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2010/04/29/cpp-api---advanced.html">
                  CPP API - Advanced
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2010/04/30/gigaspaces-cpp-processing-unit-example.html">
                      CPP Processing Unit
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/12/19/gigaspaces-cpp-api---overview.html">
                      GigaSpaces CPP API - Overview
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2010/09/20/cloud-and-virtualization.html">
          Cloud and Virtualization
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2010/09/20/xap-esm-on-cisco-ucs.html">
              XAP ESM on Cisco UCS
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2010/09/20/xap-esm-on-rackspace.html">
              XAP ESM on Rackspace
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2010/07/08/xap-on-rackspace.html">
              XAP on Rackspace
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2010/06/21/xap-on-gogrid.html">
              XAP on GoGrid
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2010/01/17/xap-on-vmware.html">
              XAP on VMWare
            </a>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2008/10/12/appendix.html">
          Appendix
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2012/09/04/xap-overview.html">
              XAP Overview
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/04/09/openspaces-faq.html">
              OpenSpaces FAQ
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2007/12/02/xap-community-faq.html">
              XAP-Community FAQ
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/03/3/about-jini.html">
              About Jini
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <a href="/xap96/2008/09/07/administrator's-guide.html" title="Administrator's Guide">
      Administrator's Guide
    </a>
    <ul>
      <li class='closed'>
        <a href="/xap96/2008/09/03/installation.html">
          Installation
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2008/09/03/installation-prerequisites.html">
              Installation Prerequisites
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2013/04/05/installing-gigaspaces.html">
                  Installing GigaSpaces
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2011/05/31/license-key.html">
                  License Key
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/07/11/supported-platforms.html">
                  Supported Platforms
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2008/09/03/system-environment-and-environment-variables.html">
              System Environment and Environment Variables
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2011/07/24/common-environment-variables.html">
                  Common Environment Variables
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2012/06/04/setting-classpath.html">
                  Setting Classpath
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2010/12/22/setting-jvm-location.html">
                  Setting JVM Location
                </a>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2008/09/03/configuring-the-system.html">
          Configuring the System
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2012/07/17/system-properties-list.html">
              System Properties List
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2011/12/22/failover-detection-and-tuning.html">
              Failover Detection and Tuning
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2011/12/16/split-brain-and-island-scenarios.html">
                  Split Brain and Island Scenarios
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2011/12/16/split-brain-and-active-election---general-definition.html">
                      Split-Brain and Active Election - General Definition
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2013/06/16/web-management-console.html">
          Web Management Console
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2013/04/08/starting-the-management-console.html">
              Starting the Management Console
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/06/16/dashboard-view.html">
              Dashboard View
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/06/16/application-view.html">
              Application View
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/06/16/hosts-view.html">
              Hosts View
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/06/16/data-grid-view.html">
              Data Grid View
            </a>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2009/09/17/security-administration.html">
          Security
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2009/09/17/security-basics.html">
              Security Basics
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2013/06/02/security-concepts.html">
                  Security Concepts
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2011/01/27/security-authorities.html">
                  Security Authorities
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2010/05/5/security-configurations.html">
                  Security Configurations
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2010/07/26/programmatically-managing-the-security-directory.html">
                  Programmatically Managing the Security Directory
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/06/02/default-file-based-security-implementation.html">
              Default File-Based Security Implementation
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2009/09/17/securing-xap-components.html">
              Securing XAP Components
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2011/08/28/securing-your-data.html">
                  Securing your Data
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2012/05/21/securing-the-grid-services.html">
                  Securing the Grid Services
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2011/08/26/securing-the-transport-layer-%28using-ssl%29.html">
                  Securing the Transport Layer (using SSL)
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2009/09/17/security-administration.html">
              Security Administration
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2013/04/02/gigaspaces-management-center-%28ui%29-security.html">
                  GigaSpaces Management Center (UI) Security
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2011/05/03/command-line-interface-%28cli%29-security.html">
                  Command Line Interface (CLI) Security
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2009/09/17/administration-and-monitoring-api-security.html">
                  Administration and Monitoring API Security
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/06/02/auditing.html">
                  Auditing
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2009/09/21/java-security-policy-file.html">
                  Java Security Policy File
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/04/02/securing-the-helloworld-example.html">
              Securing the HelloWorld example
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/06/02/custom-security.html">
              Custom Security
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2013/06/23/custom-authentication.html">
                  Custom Authentication
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/06/02/custom-user-role-management.html">
                  Custom User-Role Management
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2010/07/08/spring-security-bridge.html">
              Spring Security Bridge
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2010/07/11/introducing-spring-security.html">
                  Introducing Spring Security
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2012/04/09/gigaspaces-spring-based-security-bridge.html">
                  GigaSpaces Spring-based Security bridge
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2011/01/24/authenticating-against-a-database.html">
                  Authenticating against a database
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2011/01/24/authenticating-against-an-ldap-repository.html">
                  Authenticating against an LDAP repository
                </a>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2011/09/30/gigaspaces-logging.html">
          GigaSpaces Logging
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2009/07/16/formatting-log-messages.html">
              Formatting Log Messages
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2010/08/24/managing-log-files.html">
              Managing Log Files
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2009/07/16/backing-up-files-with-a-custom-policy.html">
                  Backing-up Files With a Custom Policy
                </a>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2008/09/11/networking-how-tos.html">
          Networking How Tos
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2012/10/09/how-to-configure-unicast-discovery.html">
              How to Configure Unicast Discovery
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/03/3/how-to-configure-multicast.html">
              How to Configure Multicast
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2008/09/08/how-to-determine-whether-multicast-is-available.html">
                  How to Determine Whether Multicast is Available
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2011/08/25/how-to-set-gigaspaces-over-nat.html">
              How to Set GigaSpaces Over NAT
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/10/09/lookup-service-configuration.html">
              Lookup Service Configuration
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2011/04/02/how-to-configure-an-environment-with-multiple-network-cards-%28multi-nic%29.html">
              How to Configure an Environment With Multiple Network-Cards (Multi-NIC)
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2010/04/25/advanced-multi-nic-configuration.html">
                  Advanced Multi-NIC Configuration
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/10/09/how-to-set-gigaspaces-over-a-firewall.html">
              How to Set GigaSpaces Over a Firewall
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/10/09/how-to-control-the-used-ports.html">
              How to Control the Used Ports
            </a>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2008/09/03/managing-and-monitoring-a-running-system.html">
          Managing and Monitoring a Running System
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2011/01/02/commands-and-scripts.html">
              Commands and Scripts
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2011/01/02/commands-and-scripts.html">
                  Scripts
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2008/09/29/gsinstance---gigaspaces-cli.html">
                      gsInstance - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2008/09/29/platforminfo---gigaspaces-cli.html">
                      PlatformInfo - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2008/09/29/startjinilus---gigaspaces-cli.html">
                      startJiniLUS - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2008/09/29/startjinitx_mahalo---gigaspaces-cli.html">
                      startJiniTX_Mahalo - GigaSpaces CLI
                    </a>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2011/01/02/commands-and-scripts.html">
                  Commands
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2011/01/01/cd---gigaspaces-cli.html">
                      cd - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/06/6/undeploy-application---gigaspaces-cli.html">
                      deploy-application - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/07/02/deploy---gigaspaces-cli.html">
                      deploy - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/10/15/deploy-memcached---gigaspaces-cli.html">
                      deploy-memcached - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/04/21/deploy-space-gigaspaces-cli.html">
                      deploy-space GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2008/05/14/gs.bat---other-cli-commands.html">
                      gs.bat - Other CLI Commands
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/01/01/gsa---gigaspaces-cli.html">
                      gsa - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/01/01/help---gigaspaces-cli.html">
                      help - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/04/12/jconsole---gigaspaces-cli.html">
                      jconsole - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/04/27/list---gigaspaces-cli.html">
                      list - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/01/01/login---gigaspaces-cli.html">
                      login - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/01/01/ls---gigaspaces-cli.html">
                      ls - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/01/01/pwd---gigaspaces-cli.html">
                      pwd - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/01/01/quit---gigaspaces-cli.html">
                      quit - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/01/01/set---gigaspaces-cli.html">
                      set - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/04/17/space---gigaspaces-cli.html">
                      space - GigaSpaces CLI
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2012/04/17/space-clean---gigaspaces-cli.html">
                          space clean - GigaSpaces CLI
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/04/17/space-clear---gigaspaces-cli.html">
                          space clear - GigaSpaces CLI
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2011/04/27/space-cluster-members---gigaspaces-cli.html">
                          space cluster-members - GigaSpaces CLI
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2009/12/08/space-config---gigaspaces-cli.html">
                          space config - GigaSpaces CLI
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2009/12/08/space-connections---gigaspaces-cli.html">
                          space connections - GigaSpaces CLI
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/04/22/space-copy---gigaspaces-cli.html">
                          space copy - GigaSpaces CLI
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2009/12/08/space-list---gigaspaces-cli.html">
                          space list - GigaSpaces CLI
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2009/12/08/space-ping---gigaspaces-cli.html">
                          space ping - GigaSpaces CLI
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2009/12/08/space-sql---gigaspaces-cli.html">
                          space sql - GigaSpaces CLI
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/01/01/stats---gigaspaces-cli.html">
                      stats - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/01/01/task---gigaspaces-cli.html">
                      task - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/06/6/undeploy-application---gigaspaces-cli.html">
                      undeploy-application - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/02/20/undeploy---gigaspaces-cli.html">
                      undeploy - GigaSpaces CLI
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/05/03/graphical-user-interface.html">
              Graphical User Interface
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2011/04/12/gigaspaces-management-center.html">
                  GigaSpaces Management Center
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2008/11/10/using-space-browser-tab---gigaspaces-management-center.html">
                      Using Space Browser Tab - GigaSpaces Management Center
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2011/04/27/gigaspaces-browser-tree-panel-and-configuration-panel.html">
                          GigaSpaces Browser Tree Panel and Configuration Panel
                        </a>
                        <ul>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/connections-view---gigaspaces-browser.html">
                              Connections View - GigaSpaces Browser
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/10/16/data-types-view---gigaspaces-browser.html">
                              Data Types View - GigaSpaces Browser
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/object-inspector.html">
                              Object Inspector
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/query-view---gigaspaces-browser.html">
                              Query View - GigaSpaces Browser
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2010/04/12/statistics-view---gigaspaces-browser.html">
                              Statistics View - GigaSpaces Browser
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/transactions-view---gigaspaces-browser.html">
                              Transactions View - GigaSpaces Browser
                            </a>
                          </li>
                        </ul>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2013/07/10/gigaspaces-browser-menus-and-buttons.html">
                          GigaSpaces Browser Menus and Buttons
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2011/04/12/managing-space-containers---gigaspaces-browser.html">
                          Managing Space Containers - GigaSpaces Browser
                        </a>
                        <ul>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/space-container-configuration-directory-services-tab---gigaspaces-browser.html">
                              Space Container Configuration Directory Services Tab - GigaSpaces Browser
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/space-container-configuration-general-tab---gigaspaces-browser.html">
                              Space Container Configuration General Tab - GigaSpaces Browser
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/space-container-configuration-jms-tab---gigaspaces-browser.html">
                              Space Container Configuration JMS Tab - GigaSpaces Browser
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/space-container-maintenance---gigaspaces-browser.html">
                              Space Container Maintenance - GigaSpaces Browser
                            </a>
                          </li>
                        </ul>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2011/04/12/pending-notify-templates-information.html">
                          Pending Notify Templates Information
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2008/05/04/working-with-clusters---gigaspaces-browser.html">
                          Working with Clusters - GigaSpaces Browser
                        </a>
                        <ul>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/customizing-cluster-view---gigaspaces-browser.html">
                              Cluster View - GigaSpaces Browser
                            </a>
                            <ul>
                              <li class='closed'>
                                <a href="/xap96/2011/04/12/customizing-cluster-view---gigaspaces-browser.html">
                                  Customizing Cluster View - GigaSpaces Browser
                                </a>
                              </li>
                              <li class='closed'>
                                <a href="/xap96/2011/04/12/viewing-cluster-policy-settings-for-space---gigaspaces-browser.html">
                                  Viewing Cluster Policy Settings for Space - GigaSpaces Browser
                                </a>
                              </li>
                              <li class='closed'>
                                <a href="/xap96/2011/04/12/viewing-space-interrelations-in-cluster---gigaspaces-browser.html">
                                  Viewing Space Interrelations in Cluster - GigaSpaces Browser
                                </a>
                              </li>
                              <li class='closed'>
                                <a href="/xap96/2011/04/12/visualizing-cluster-groups-and-members---gigaspaces-browser.html">
                                  Visualizing Cluster Groups and Members - GigaSpaces Browser
                                </a>
                              </li>
                            </ul>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/03/17/creating-custom-cluster---gigaspaces-browser.html">
                              Creating Custom Cluster - GigaSpaces Browser
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/failover-group---gigaspaces-browser.html">
                              Failover Group - GigaSpaces Browser
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/load-balancing-group---gigaspaces-browser.html">
                              Load-Balancing Group - GigaSpaces Browser
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/replication-group---gigaspaces-browser.html">
                              Replication Group - GigaSpaces Browser
                            </a>
                          </li>
                        </ul>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2008/05/04/working-with-spaces---gigaspaces-browser.html">
                          Working with Spaces - GigaSpaces Browser
                        </a>
                        <ul>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/space-jms---gigaspaces-browser.html">
                              Space JMS - GigaSpaces Browser
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/space-maintenance---gigaspaces-browser.html">
                              Space Maintenance - GigaSpaces Browser
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/space-memory-management---gigaspaces-browser.html">
                              Space Memory Management - GigaSpaces Browser
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/space-serialization-and-engine-thread-pool---gigaspaces-browser.html">
                              Space Serialization and Engine Thread Pool - GigaSpaces Browser
                            </a>
                          </li>
                          <li class='closed'>
                            <a href="/xap96/2011/04/12/space-timeout,-filters-and-lease-manager---gigaspaces-browser.html">
                              Space Timeout, Filters and Lease Manager - GigaSpaces Browser
                            </a>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2011/12/09/running-gigaspaces-as-a-windows-service.html">
              Running GigaSpaces as a Windows Service
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2011/04/27/space-jmx-management.html">
              Space JMX Management
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2013/07/21/monitoring-network-activity.html">
              Monitoring Network Activity
            </a>
          </li>
          <li class='closed'>
            <a href="/xap96/2010/03/04/suggested-monitoring-tools.html">
              Suggested Monitoring Tools
            </a>
          </li>
        </ul>
      </li>
      <li class='closed'>
        <a href="/xap96/2008/09/03/advanced-tasks.html">
          Advanced Tasks
        </a>
        <ul>
          <li class='closed'>
            <a href="/xap96/2012/11/05/data-grid-clustering.html">
              Data-Grid Clustering
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2013/06/05/consistency-level.html">
                  Consistency Level
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2012/06/13/data-partitioning.html">
                  Data-Partitioning
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2011/12/22/failover-detection-and-tuning.html">
                  Failover
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/01/31/replication-gateway-components.html">
                  Replication
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2013/05/01/replication-topologies.html">
                      Replication Topologies
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/04/14/synchronous-replication.html">
                      Synchronous Replication
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/04/13/asynchronous-replication.html">
                      Asynchronous Replication
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/10/04/space-instance-recovery.html">
                      Space Instance Recovery
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2013/05/25/replication-operations.html">
                      Replication Operations
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/12/19/controlling-the-replication-redo-log.html">
                      Controlling the Replication Redo Log
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/10/14/replication-parameters.html">
                      Replication Parameters
                    </a>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2013/08/01/split-brain-and-primary-resolution.html">
                  Split Brain and Primary Resolution
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2008/09/03/performance-tuning-and-considerations.html">
              Performance Tuning and Considerations
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2011/04/27/tuning-infrastructure.html">
                  Tuning Infrastructure
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2008/09/10/tuning-gigaspaces-performance---advanced.html">
                  Tuning GigaSpaces Performance
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2013/07/26/tuning-gigaspaces-performance---basics.html">
                      Tuning GigaSpaces Performance - Basics
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2008/09/10/tuning-gigaspaces-performance---advanced.html">
                      Tuning GigaSpaces Performance - Advanced
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2011/04/27/large-scale-deployment.html">
                          Large Scale Deployment
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2012/07/08/proxy-connectivity-(old).html">
                          Proxy Connectivity
                        </a>
                        <ul>
                          <li class='closed'>
                            <a href="/xap96/2012/07/08/proxy-connectivity-%28old%29.html">
                              Proxy Connectivity (Old)
                            </a>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li class='closed'>
                <a href="/xap96/2011/12/02/tuning-java-virtual-machines.html">
                  Tuning Java Virtual Machines
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2010/01/08/moving-into-production-checklist.html">
                  Moving into Production Checklist
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2011/08/07/tuning-threads-usage.html">
                  Tuning Threads Usage
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2010/12/25/troubleshooting-tools.html">
              Troubleshooting
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2010/12/20/troubleshooting-common-user-issues.html">
                  Troubleshooting Common User Issues
                </a>
              </li>
              <li class='closed'>
                <a href="/xap96/2008/09/03/troubleshooting-for-administrators.html">
                  Troubleshooting for Administrators
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2011/06/19/testing-system-environment.html">
                      Testing System Environment
                    </a>
                    <ul>
                      <li class='closed'>
                        <a href="/xap96/2008/06/11/locating-clustered-space-instances.html">
                          Locating Clustered Space Instances
                        </a>
                      </li>
                      <li class='closed'>
                        <a href="/xap96/2010/12/25/viewing-clustered-space-status.html">
                          Viewing Clustered Space Status
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/07/11/failure-detection.html">
                      Failure Detection
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2010/12/25/troubleshooting-tools.html">
                      Troubleshooting Tools
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2012/04/24/migration-upgrade-interoperability-and-compatibility.html">
              Migration Upgrade Interoperability and Compatibility
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2013/07/11/backward-compatibility.html">
                  Backward Compatibility
                </a>
              </li>
            </ul>
          </li>
          <li class='closed'>
            <a href="/xap96/2008/09/03/evaluating-performance-and-scalability.html">
              Evaluating Performance and Scalability
            </a>
            <ul>
              <li class='closed'>
                <a href="/xap96/2013/05/25/benchmarking.html">
                  Benchmarking
                </a>
                <ul>
                  <li class='closed'>
                    <a href="/xap96/2011/04/27/benchmark-utility---gigaspaces-cli.html">
                      Benchmark Utility - GigaSpaces CLI
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2011/04/27/benchmark-view---gigaspaces-browser.html">
                      Benchmark View - GigaSpaces Browser
                    </a>
                  </li>
                  <li class='closed'>
                    <a href="/xap96/2012/04/01/c++-benchmark-framework.html">
                      C++ Benchmark Framework
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
        </div>
        <div class='col-md-8'>
          
<div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title"><strong>Summary: </strong><p>How to use XAP for Real-time analysis of Big Data</p>
</h3></div><div class="panel-body"><ul class="nav nav-pills" id="summarypanel"></ul></div></div>

<h1 id="introduction">Introduction</h1>

<div class="container"><div class="row">
<div style="float:left;padding-left:15px;padding-right:15px;position:relative;margin-left:15px;margin-right:15px;">
<p>We live almost every aspect of our lives in a real-time world. Think about our social communications; we update our friends online via social networks and micro-blogging, we text from our cellphones, or message from our laptops. But its not just our social lives; we shop online whenever we want, we search the web for immediate answers to our questions, we trade stocks online, we pay our bills, and do our banking. All online and all in real time.</p>

<p>Real time doesnt just affect our personal lives. Enterprises and government agencies need real-time insights to be successful, whether they are investment firms that need fast access to market views and risk analysis, or retailers that need to adjust their online campaigns and recommendations to their customers. Even homeland security has come to increasingly rely on real-time monitoring.
The amount of data that flows in these systems is huge. Twitter, for example, 500 million Tweets per day, which is nearly 3,000 Tweets per second, on average.  At various peak moments through 2011, Twitter did as high as 8,000+ TPS, with at least one instance of over 25,000 tps. Facebook gets 100 billion hits per day with 3.2B Likes &amp; Comments/day. Google get 2 billion searches a day. These numbers are growing as more and more users join the service.</p>

<p>This tutorial explains the challenges of a Real-time (RT) Analytics system using Twitter as an example, and show in details how these challenges can be met by using GigaSpaces XAP.</p>
</div>
<div style="float:left;padding-left:15px;padding-right:15px;position:relative;margin-left:15px;margin-right:15px;">
<object width="560" height="315"><param name="movie" value="http://www.youtube.com/v/ioHwEsARPWI?version=3&amp;hl=en_US" /><param name="allowFullScreen" value="true" /><param name="allowscriptaccess" value="always" /><embed src="http://www.youtube.com/v/ioHwEsARPWI?version=3&amp;hl=en_US" type="application/x-shockwave-flash" width="560" height="315" allowscriptaccess="always" allowfullscreen="true" /></object>
</div>
</div></div>

<h1 id="the-challenge">The Challenge</h1>

<p>Twitter users arent just interested in reading tweets of the people they follow; they are also interested in finding new people and topics to follow based on popularity. This poses several challenges to the Twitter architecture due to the vast volume of tweets. In this example, we focus on the challenges relating to calculating the <strong>word count</strong> use case. The challenge here is straightforward:</p>

<ol>
  <li>Tens of thousands of tweets need to be stored and parsed every second.</li>
  <li>Word counters need to be aggregated continuously. Since tweets are limited to 140 characters, we are dealing with hundreds of thousands of words per second.</li>
  <li>Finally, the system needs to scale linearly so the stream can grow as the business grows.</li>
</ol>

<p>These challenges are not simple to deal with as there are knock-on effects from the volume and analysis of the data, as follows:</p>

<ul>
  <li>Tens of thousands of tweets to tokenize every second, meaning hundreds of thousands of words to filter -&gt; <strong>CPU bottleneck</strong></li>
  <li>Tens/hundreds of thousands of counters to update -&gt; <strong>Counters contention</strong></li>
  <li>Tens/hundreds of thousands of counters to persist -&gt; <strong>Database bottleneck</strong></li>
  <li>Tens of thousands of tweets to store in the database every second -&gt; <strong>Database bottleneck</strong></li>
</ul>

<h1 id="solution-architecture">Solution Architecture</h1>

<div class="container"><div class="row">
<div style="float:left;padding-left:15px;padding-right:15px;position:relative;margin-left:15px;margin-right:15px;">
<p>In designing a solution, we need to consider the various challenges we must address.</p>

<p>The first challenge is providing <strong>unlimited scalability</strong> - therefore, we are talking about dynamically increasing resources to meet demand, and hence implementing a distributed solution using parallelized processing approach.</p>

<p>The second challenge is providing <strong>low latency</strong> - we cant afford to use a distributed file system such as Hadoop HDFS, a relational database or a distributed disk-based structured data store such as NoSQL database. All of these use physical I/O that becomes a bottleneck when dealing with massive writes. Furthermore, we want the business logic collocated with the data on a single platform for faster processing, with minimal network hops and integration issues.</p>

<p>To overcome the latency challenge, we use an in-memory system of record. GigaSpaces XAP is built just for that. Its core component is <a href="/xap96/2013/05/25/the-in-memory-data-grid.html">in-memory data grid</a> (IMDG, a.k.a. the Space) that partitions the data based on a specified attribute within the data object. The data grid uses a share nothing policy, and each primary node has consistent backup. In addition the grid keeps its SLA by self-healing crashed nodes, so its completely consistent and highly-available.</p>

<p>The third challenge is the <strong>efficient processing</strong> of the data in a distributed system. To achieve this, we use the <strong>Map</strong> / <strong>Reduce</strong> algorithm for distributed computing on large data sets on clusters of computers. In the <strong>Map</strong> step, we normalize the data so we can create local counters. In the <strong>Reduce</strong> step, we aggregate the entire set of interim results into a single set of results.</p>
</div>
<div style="float:left;padding-left:15px;padding-right:15px;position:relative;margin-left:15px;margin-right:15px;">
<p><img src="/attachment_files/map_reduce.png" alt="map_reduce.png" /></p>
</div>
</div></div>

<div class="container"><div class="row">
<div style="float:left;padding-left:15px;padding-right:15px;position:relative;margin-left:15px;margin-right:15px;">
<p>In our Twitter example, we need to build a flow that provides the <strong>Map</strong> / <strong>Reduce</strong> flow in real time. For this we use XAPs Processing and Messaging features collocated with its corresponding data.</p>

<p>Our solution therefore uses 2 modules for persisting and processing data, as follows:</p>

<ul>
  <li>The feeder module persists raw tweets (the data) in the Space (IMDG)The feeder partitions the Tweets using their ID (assumed to be globally unique) to achieve a scalable solution with rapid insertion of tweets into the Space.</li>
  <li>The processor module implements the <strong>Map</strong> / <strong>Reduce</strong> algorithm that processes tweets in the Space, resulting in real-time word counts. The tweets are then moved from the Space to the historical data store located in an Apache Cassandra Big-Data Store The processor implements a workflow of events using the IMDG ability to store transient data in-memory and trigger processing activity in-memory.
The processors <strong>Map</strong> phase has the following logical steps:</li>
</ul>

<ol>
  <li>Tokenizes tweets into maps of tokens and writes them to the Space (triggered by the writing of raw tweets to the Space).</li>
  <li>Filters unwanted words from the maps of tokens and writes the filtered maps to the Space (triggered by the writing of maps of tokens to the Space).</li>
  <li>Generates a token counter per word, distributing the counters across the grid partitions for scalability and performance (triggered by the writing of filtered maps of tokens to the Space).</li>
</ol>

<p>The processors <strong>Reduce</strong> phase aggregates the local results into global word counters.</p>
</div>
<div style="float:left;padding-left:15px;padding-right:15px;position:relative;margin-left:15px;margin-right:15px;">
<p><img src="/attachment_files/map_reduce_tweets.png" alt="map_reduce_tweets.png" /></p>
</div>
</div></div>

<h1 id="implementing-the-solution-as-a-xap-application">Implementing the Solution as a XAP Application</h1>

<div class="container"><div class="row">
<div style="float:left;padding-left:15px;padding-right:15px;position:relative;margin-left:15px;margin-right:15px;">
<p>To implement our solution, we use Cassandra (or a local file) as the historical data tier and build a XAP application that processes and persists the data in real-time using the following modules:</p>

<ul>
  <li>The <a href="https://github.com/CloudifySource/cloudify-recipes/tree/master/apps/streaming-bigdata/processor"><code>processor</code></a> module is a XAP <a href="/xap96/2013/03/11/the-processing-unit-structure-and-configuration.html">processing unit</a> that contains the Space and performs the real-time workflow of processing the incoming tweets. The processing of data objects is performed using event containers.</li>
  <li>The <a href="https://github.com/CloudifySource/cloudify-recipes/tree/master/apps/streaming-bigdata/feeder"><code>feeder</code></a> module is implemented as a processing unit thereby enabling the dynamic deployment of multiple instances of the feeder across multiple nodes, increasing the load it can manage, and thus the ability handle larger tweet streams. The processing unit contains the following feeder strategies:
    <ul>
      <li>The <a href="https://github.com/CloudifySource/cloudify-recipes/tree/master/apps/streaming-bigdata/feeder/src/main/java/org/openspaces/bigdata/feeder/TwitterHomeTimelineFeederTask.java"><code>TwitterHomeTimelineFeederTask</code></a> class, which feeds in tweets from Twitters public timeline using <a href="http://www.springsource.org/spring-social">Spring Social</a>, converting them to a canonical <a href="/xap96/2013/05/25/document-api.html">Space Document</a> representation, and writes them to the Space ,which in turn invokes the relevant event processors of the processor module.</li>
      <li>The <a href="https://github.com/CloudifySource/cloudify-recipes/tree/master/apps/streaming-bigdata/feeder/src/main/java/org/openspaces/bigdata/feeder/ListBasedFeederTask.java"><code>ListBasedFeederTask</code></a> class is a simulation feeder for testing purposes, which simulates tweets locally, avoiding the need to connect to the Twitter API over the Internet.</li>
    </ul>
  </li>
  <li>Optionally, the <a href="https://github.com/CloudifySource/cloudify-recipes/tree/master/apps/streaming-bigdata/common"><code>common</code></a> module for including items that are shared between the feeder and the processor modules (e.g. common interfaces, shared data model, etc.). </li>
  <li>The <a href="https://github.com/CloudifySource/cloudify-recipes/tree/master/apps/streaming-bigdata/bigDataApp"><code>bigDataApp</code></a> directory contains the recipes and other scripts required to automatically deploy, monitor and manage the entire application together with the <a href="http://cassandra.apache.org/">Cassandra</a> back-end using <a href="http://www.cloudifysource.org">Cloudify</a>.</li>
</ul>
</div>
<div style="float:left;padding-left:15px;padding-right:15px;position:relative;margin-left:15px;margin-right:15px;">
<p><img src="/attachment_files/twitter_topo.png" alt="twitter_topo.png" /></p>
</div>
</div></div>

<h1 id="building-the-application">Building the Application</h1>

<p>The following are step-by-step instructions building the application:</p>

<ol>
  <li>
    <p><a href="http://www.gigaspaces.com/LatestProductVersion">Download</a> and <a href="/xap96/2013/04/05/installing-gigaspaces.html">install</a> XAP
Edit <code>&lt;XapInstallationRoot&gt;/gslicense.xml&gt;</code> and place the license key file provided with the email sent to you after downloading GigaSpaces XAP as the <code>&lt;licensekey&gt;</code> value.</p>
  </li>
  <li>
    <p>Getting the Application
The application source can be found under <code>&lt;XapInstallationRoot&gt;/recipes/apps/streaming-bigdata folder</code>.</p>
  </li>
</ol>

<p>Alternatively, you can download the source files in zip format from the <a href="https://github.com/CloudifySource/cloudify-recipes/archive/2_5_1.zip">repository home on github</a>
The source are maintained in <a href="https://github.com/CloudifySource/cloudify-recipes/tree/2_5_1/apps/streaming-bigdata">Github Gigaspaces cloudify-recipes repository</a>. 
If youre a github user and have already <a href="http://help.github.com/mac-set-up-git/">setup the github client</a>, you can <a href="http://help.github.com/fork-a-repo">fork</a> the repository and clone it to your local machine, as follows:</p>

<div class="highlight"><pre><code class="java"><span class="n">cd</span> <span class="o">&lt;</span><span class="n">project</span> <span class="n">root</span> <span class="n">directory</span><span class="o">&gt;</span> 
<span class="n">git</span> <span class="n">clone</span> <span class="o">--</span><span class="n">branch</span><span class="o">=</span><span class="mi">2</span><span class="n">_5_1</span> <span class="o">&lt;</span><span class="n">your</span> <span class="k">new</span> <span class="n">repository</span> <span class="n">URL</span><span class="o">&gt;</span>
</code></pre></div>

<p>We welcome your contributions and suggestions for improvements, and invite you to submit them by performing a <a href="http://help.github.com/send-pull-requests/">pull request</a>. We will review your recommendations and have relevant changes merged. </p>

<ol>
  <li>Install Maven and the GigaSpaces Maven plug-in
The application uses <a href="http://maven.apache.org/">Apache Maven</a>. If you dont have Apache Maven installed, please <a href="http://maven.apache.org/download.html#Installation">download</a> and install it. Once installed:</li>
</ol>

<ul>
  <li>Set the <code>MVN_HOME</code> environment variable </li>
  <li>Add <code>$MVN_HOME/bin</code> to your path. </li>
  <li>Run the GigaSpaces Maven plug-in installer by calling the <code>&lt;XapInstallationRoot&gt;/tools/maven/installmavenrep.bat/sh</code> script. </li>
</ul>

<ol>
  <li>Building the Application
Move to the <code>&lt;applicationRoot&gt;</code> folder (contains the applications project files). 
Edit the pom.xml file and make sure the <gsversion> include the correct GigaSpaces XAP release you have installed. For example if you have XAP 9.5.1 installed you should have the following:</gsversion></li>
</ol>

<div class="highlight"><pre><code class="java"><span class="o">&lt;</span><span class="n">properties</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">gsVersion</span><span class="o">&gt;</span><span class="mf">9.5</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="n">RELEASE</span><span class="o">&lt;/</span><span class="n">gsVersion</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">properties</span><span class="o">&gt;</span>
</code></pre></div>

<p>To Build the project type the following at your command (Windows) or shell (*nix): </p>

<div class="highlight"><pre><code class="java"><span class="n">mvn</span> <span class="n">install</span>
</code></pre></div>

<p>If you are getting <strong>No gslicense.xml license file was found in current directory</strong> error, please run the following:</p>

<div class="highlight"><pre><code class="java"><span class="n">mvn</span> <span class="kn">package</span> <span class="o">-</span><span class="n">DargLine</span><span class="o">=</span><span class="s">&quot;-Dcom.gs.home=&quot;</span><span class="o">&lt;</span><span class="n">XapInstallationRoot</span><span class="o">&gt;</span><span class="err">&quot;</span>
</code></pre></div>

<p>Where <strong>XapInstallationRoot</strong> should be XAP root folder - example:</p>

<div class="highlight"><pre><code class="java"><span class="n">mvn</span> <span class="kn">package</span> <span class="o">-</span><span class="n">DargLine</span><span class="o">=</span><span class="s">&quot;-Dcom.gs.home=&quot;</span><span class="nl">c:</span><span class="err">\</span><span class="n">gigaspaces</span><span class="o">-</span><span class="n">xap</span><span class="o">-</span><span class="n">premium</span><span class="o">-</span><span class="mf">9.5</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="n">ga</span><span class="err">&quot;</span>
</code></pre></div>

<p>The Maven build will download the required dependencies, compile the source files, run the unit tests, and build the required jar files. In our example, the following processing unit jar files are built:</p>

<ul>
  <li><code>&lt;project root&gt;/feeder/target/rt-feeder-XAP-9.x.jar</code></li>
  <li><code>&lt;project root&gt;/processor/target/rt-processor-XAP-9.x.jar</code></li>
</ul>

<p>Once the build is complete, a summary message similar to the following is displayed:</p>

<div class="highlight"><pre><code class="java"><span class="o">[</span><span class="n">INFO</span><span class="o">]</span> <span class="o">------------------------------------------------------------------------</span>
<span class="o">[</span><span class="n">INFO</span><span class="o">]</span> <span class="n">Reactor</span> <span class="nl">Summary:</span>
<span class="o">[</span><span class="n">INFO</span><span class="o">]</span> 
<span class="o">[</span><span class="n">INFO</span><span class="o">]</span> <span class="n">rt</span><span class="o">-</span><span class="n">analytics</span> <span class="o">......................................</span> <span class="n">SUCCESS</span> <span class="o">[</span><span class="mf">0.001</span><span class="n">s</span><span class="o">]</span>
<span class="o">[</span><span class="n">INFO</span><span class="o">]</span> <span class="n">rt</span><span class="o">-</span><span class="n">common</span> <span class="o">.........................................</span> <span class="n">SUCCESS</span> <span class="o">[</span><span class="mf">2.196</span><span class="n">s</span><span class="o">]</span>
<span class="o">[</span><span class="n">INFO</span><span class="o">]</span> <span class="n">rt</span><span class="o">-</span><span class="n">processor</span> <span class="o">......................................</span> <span class="n">SUCCESS</span> <span class="o">[</span><span class="mf">11.301</span><span class="n">s</span><span class="o">]</span>
<span class="o">[</span><span class="n">INFO</span><span class="o">]</span> <span class="n">rt</span><span class="o">-</span><span class="n">feeder</span> <span class="o">.........................................</span> <span class="n">SUCCESS</span> <span class="o">[</span><span class="mf">3.102</span><span class="n">s</span><span class="o">]</span>
<span class="o">[</span><span class="n">INFO</span><span class="o">]</span> <span class="o">------------------------------------------------------------------------</span>
<span class="o">[</span><span class="n">INFO</span><span class="o">]</span> <span class="n">BUILD</span> <span class="n">SUCCESS</span>
<span class="o">[</span><span class="n">INFO</span><span class="o">]</span> <span class="o">------------------------------------------------------------------------</span>
<span class="o">[</span><span class="n">INFO</span><span class="o">]</span> <span class="n">Total</span> <span class="nl">time:</span> <span class="mf">16.768</span><span class="n">s</span>
<span class="o">[</span><span class="n">INFO</span><span class="o">]</span> <span class="n">Finished</span> <span class="nl">at:</span> <span class="n">Sun</span> <span class="n">May</span> <span class="mi">13</span> <span class="mi">13</span><span class="o">:</span><span class="mi">38</span><span class="o">:</span><span class="mi">06</span> <span class="n">IDT</span> <span class="mi">2012</span>
<span class="o">[</span><span class="n">INFO</span><span class="o">]</span> <span class="n">Final</span> <span class="nl">Memory:</span> <span class="mi">14</span><span class="n">M</span><span class="o">/</span><span class="mi">81</span><span class="n">M</span>
<span class="o">[</span><span class="n">INFO</span><span class="o">]</span> <span class="o">------------------------------------------------------------------------</span>
</code></pre></div>

<h1 id="running-and-debugging-the-application-within-an-ide">Running and Debugging the Application within an IDE</h1>

<p>Since the application is a Maven project, you can load it using your Java IDE and thus automatically configure all module and classpath configurations. </p>

<ul>
  <li>With <a href="http://www.intellij.com">IntelliJ</a>, simply click File -&gt; Open Project and point to <code>&lt;applicationRoot&gt;/pom.xml</code>. IntelliJ will load the project and present the modules for you. </li>
  <li>With <a href="http://www.eclipse.org">Eclipse</a>, install the <a href="http://eclipse.org/m2e/download/"><code>M2Eclipse plugin</code></a> and click File -&gt; Import , Maven -&gt; Existing Maven Projects , select the <code>streaming-bigdata</code> folder and click the <code>Finish</code> button.</li>
</ul>

<p><img src="/attachment_files/rt-ide3.jpg" alt="rt-ide3.jpg" /></p>

<p>Once the project is loaded in your IDE, you can run the application, as follows:</p>

<ul>
  <li>In <strong>Eclipse</strong>, create two run configurations. One for the <strong>feeder</strong> and one for the <strong>processor</strong>. For both, the main class must be <a href="http://www.gigaspaces.com/docs/JavaDoc9.0/org/openspaces/pu/container/integrated/IntegratedProcessingUnitContainer.html"><code>org.openspaces.pu.container.integrated.IntegratedProcessingUnitContainer</code></a>. 
Configure the GigaSpaces home folder using the <strong>com.gs.home</strong> system property:
<code>-Dcom.gs.home="c:\gigaspaces-xap-premium-9.5.1-ga"</code>
Configure the active spring profiles using the <strong>spring.profiles.active</strong> system property:
<code>-Dspring.profiles.active=list-feeder,file-archiver</code></li>
</ul>

<p>rt-processor project run configuration:
<img src="/attachment_files/rt-processor2.png" alt="rt-processor2.png" />
rt-feeder project run configuration:
<img src="/attachment_files/rt-feeder2.png" alt="rt-feeder2.png" /></p>

<ul>
  <li>In IntelliJ, create two run configurations, with <a href="http://www.gigaspaces.com/docs/JavaDoc9.0/org/openspaces/pu/container/integrated/IntegratedProcessingUnitContainer.html"><code>org.openspaces.pu.container.integrated.IntegratedProcessingUnitContainer</code></a> as the main class, and make sure that the feeder configuration uses the classpath of the <code>feeder</code> module, and that the processor configuration uses that of the <code>processor</code> module. </li>
</ul>

<p>For more information about the <code>IntegratedProcessingUnitContainer</code> class (runs the processing units within your IDE), see <a href="/xap96/2012/01/04/running-and-debugging-within-your-ide.html">Running and Debugging Within Your IDE</a>. </p>

<div class="alert alert-success"><i class="icon-ok pull-left"></i>
<p>Make sure you have updated <strong>gslicense.xml</strong> located under the GigaSpaces XAP root folder with the license key provided as part of the email sent to you after downloading GigaSpaces XAP.</p>
</div>

<p>To run the application, run the <strong>processor</strong> configuration, and then the <strong>feeder</strong> configuration. An output similar to the following is displayed:</p>

<div class="highlight"><pre><code class="java"><span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">38</span><span class="o">,</span><span class="mi">524</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">TokenFilter</span><span class="o">]</span> <span class="o">-</span> <span class="n">filtering</span> <span class="n">tweet</span> <span class="mi">305016632265297920</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">38</span><span class="o">,</span><span class="mi">526</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">FileArchiveOperationHandler</span><span class="o">]</span> <span class="o">-</span> <span class="n">Writing</span> <span class="mi">1</span> <span class="n">object</span><span class="o">(</span><span class="n">s</span><span class="o">)</span> <span class="n">to</span> <span class="n">File</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">38</span><span class="o">,</span><span class="mi">534</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">TweetArchiveFilter</span><span class="o">]</span> <span class="o">-</span> <span class="n">Archived</span> <span class="n">tweet</span> <span class="mi">305016632265297920</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">38</span><span class="o">,</span><span class="mi">535</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">LocalTokenCounter</span><span class="o">]</span> <span class="o">-</span> <span class="n">local</span> <span class="n">counting</span> <span class="n">of</span> <span class="n">a</span> <span class="n">bulk</span> <span class="n">of</span> <span class="mi">1</span> <span class="n">tweets</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">38</span><span class="o">,</span><span class="mi">537</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">LocalTokenCounter</span><span class="o">]</span> <span class="o">-</span> <span class="n">writing</span> <span class="mi">12</span> <span class="n">TokenCounters</span> <span class="n">across</span> <span class="n">the</span> <span class="n">cluster</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">38</span><span class="o">,</span><span class="mi">558</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">GlobalTokenCounter</span><span class="o">]</span> <span class="o">-</span> <span class="n">Increment</span>  <span class="n">local</span> <span class="n">token</span> <span class="n">arrive</span> <span class="n">by</span> <span class="mi">1</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">38</span><span class="o">,</span><span class="mi">606</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">GlobalTokenCounter</span><span class="o">]</span> <span class="o">-</span> <span class="n">Increment</span>  <span class="n">local</span> <span class="n">token</span> <span class="n">Reine</span> <span class="n">by</span> <span class="mi">1</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">38</span><span class="o">,</span><span class="mi">622</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">GlobalTokenCounter</span><span class="o">]</span> <span class="o">-</span> <span class="n">Increment</span>  <span class="n">local</span> <span class="n">token</span> <span class="n">pute</span> <span class="n">by</span> <span class="mi">1</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">38</span><span class="o">,</span><span class="mi">624</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">GlobalTokenCounter</span><span class="o">]</span> <span class="o">-</span> <span class="n">Increment</span>  <span class="n">local</span> <span class="n">token</span> <span class="n">lyc</span><span class="o">?</span><span class="n">e</span> <span class="n">by</span> <span class="mi">2</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">41</span><span class="o">,</span><span class="mi">432</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">TweetParser</span><span class="o">]</span> <span class="o">-</span> <span class="n">parsing</span> <span class="n">tweet</span> <span class="n">SpaceDocument</span> <span class="o">.....</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">41</span><span class="o">,</span><span class="mi">440</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">TokenFilter</span><span class="o">]</span> <span class="o">-</span> <span class="n">filtering</span> <span class="n">tweet</span> <span class="mi">305016630734381057</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">41</span><span class="o">,</span><span class="mi">441</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">FileArchiveOperationHandler</span><span class="o">]</span> <span class="o">-</span> <span class="n">Writing</span> <span class="mi">1</span> <span class="n">object</span><span class="o">(</span><span class="n">s</span><span class="o">)</span> <span class="n">to</span> <span class="n">File</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">41</span><span class="o">,</span><span class="mi">447</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">LocalTokenCounter</span><span class="o">]</span> <span class="o">-</span> <span class="n">local</span> <span class="n">counting</span> <span class="n">of</span> <span class="n">a</span> <span class="n">bulk</span> <span class="n">of</span> <span class="mi">1</span> <span class="n">tweets</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">41</span><span class="o">,</span><span class="mi">448</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">LocalTokenCounter</span><span class="o">]</span> <span class="o">-</span> <span class="n">writing</span> <span class="mi">11</span> <span class="n">TokenCounters</span> <span class="n">across</span> <span class="n">the</span> <span class="n">cluster</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">41</span><span class="o">,</span><span class="mi">454</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">TweetArchiveFilter</span><span class="o">]</span> <span class="o">-</span> <span class="n">Archived</span> <span class="n">tweet</span> <span class="mi">305016630734381057</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">41</span><span class="o">,</span><span class="mi">463</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">GlobalTokenCounter</span><span class="o">]</span> <span class="o">-</span> <span class="n">Increment</span>  <span class="n">local</span> <span class="n">token</span> <span class="n">Accounts</span> <span class="n">by</span> <span class="mi">1</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">41</span><span class="o">,</span><span class="mi">485</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">GlobalTokenCounter</span><span class="o">]</span> <span class="o">-</span> <span class="n">Increment</span>  <span class="n">local</span> <span class="n">token</span> <span class="n">job</span> <span class="n">by</span> <span class="mi">1</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">13</span><span class="o">:</span><span class="mi">09</span><span class="o">:</span><span class="mi">41</span><span class="o">,</span><span class="mi">487</span>  <span class="n">INFO</span> <span class="o">[</span><span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">processor</span><span class="o">.</span><span class="na">GlobalTokenCounter</span><span class="o">]</span> <span class="o">-</span> <span class="n">Increment</span>  <span class="n">local</span> <span class="n">token</span> <span class="n">time</span> <span class="n">by</span> <span class="mi">1</span>
</code></pre></div>

<h2 id="switching-between-online-feeder-and-the-test-feeder">Switching between Online Feeder and the Test Feeder</h2>

<p>You can switch between the On-Line <code>TwitterHomeTimelineFeederTask</code> Feeder and the Test <code>ListBasedFeederTask</code> Feeder. The former uses <strong>real-time</strong> Twitter time line data, while the latter uses simulated tweet data. By default, <code>ListBasedFeederTask</code> is enabled. To switch to <code>TwitterHomeTimelineFeederTask</code></p>

<ul>
  <li>add <code>-Dspring.profiles.active=twitter-feeder -Dtwitter.screenName=diggupdates</code> to the rt-feeder project VM arguments configuration. </li>
  <li>Get your twitter API secret keys:
    <ul>
      <li>Log in to http://dev.twitter.com/</li>
      <li>Go to My applications and <code>Create a new Application</code></li>
      <li>Copy the <code>Consumer Key</code> and <code>Consumer Secret</code> to <a href="https://github.com/CloudifySource/cloudify-recipes/blob/master/apps/streaming-bigdata/feeder/src/main/resources/META-INF/spring/feeder.properties">feeder.properties</a></li>
      <li>Click the <code>My Access Token</code> button on bottom of the page.</li>
      <li>Copy the <code>Access Token</code> and <code>Access Token Secret</code> to <a href="https://github.com/CloudifySource/cloudify-recipes/blob/master/apps/streaming-bigdata/feeder/src/main/resources/META-INF/spring/feeder.properties">feeder.properties</a></li>
    </ul>
  </li>
</ul>

<div class="alert alert-danger"><i class="icon-minus-sign pull-left"></i>
<p>Since the <a href="https://dev.twitter.com/docs/rate-limiting">Twitter API uses rate limiting</a>, the twitter feeder is configured to poll once every 24 seconds (150 requests per hour) <code>-Dtwitter.delayInMs=24000</code>. Your feeder might stop if this rate limit is exceeded.</p>
</div>

<h1 id="running-the-application-with-xap-runtime-environment">Running the Application with XAP Runtime Environment</h1>

<p>The following are step-by-step instructions for running the application in XAP:</p>

<ol>
  <li><a href="http://www.gigaspaces.com/LatestProductVersion">Download</a> and <a href="/xap96/2013/04/05/installing-gigaspaces.html">install</a> XAP. </li>
  <li>Edit <code>&lt;XapInstallationRoot&gt;/gslicense.xml&gt;</code> and place the license key file provided with the email sent to you after downloading GigaSpaces XAP as the <code>&lt;licensekey&gt;</code> value.</li>
  <li>Start a shell prompt in the <code>&lt;XapInstallationRoot&gt;/recipes/apps/streaming-bigdata</code> folder.</li>
  <li>Run </li>
</ol>

<div class="highlight"><pre><code class="java"><span class="n">mvn</span> <span class="kn">package</span>
</code></pre></div>

<p>to compile and package the source code into JARs</p>

<ol>
  <li>Change to the <code>&lt;XapInstallationRoot&gt;/bin&gt;</code> folder.</li>
  <li>Choose between the <code>twitter-feeder</code> and the <code>list-feeder</code> spring profile (All tweets are persisted to a file-archiver, cassandra-archiver is explained next):
&lt;div class='tabsection'&gt;&lt;ul class='nav nav-tabs'&gt;&lt;/ul&gt;&lt;div class='tab-content'&gt;
&lt;div class='tab-pane' id='unix_(twitter)' 
   		title='Unix (twitter)'&gt;</li>
</ol>

<div class="highlight"><pre><code class="java"><span class="n">export</span> <span class="n">GSC_JAVA_OPTIONS</span><span class="o">=</span><span class="s">&quot;-Dspring.profiles.active=twitter-feeder,file-archiver&quot;</span>
</code></pre></div>

<p>&lt;/div&gt;
&lt;div class='tab-pane' id='unix_(list)' 
      		title='Unix (list)'&gt;</p>

<div class="highlight"><pre><code class="java"><span class="n">export</span> <span class="n">GSC_JAVA_OPTIONS</span><span class="o">=</span><span class="s">&quot;-Dspring.profiles.active=list-feeder,file-archiver&quot;</span>
</code></pre></div>

<p>&lt;/div&gt;
&lt;div class='tab-pane' id='windows_(twitter)' 
      		title='Windows (twitter)'&gt;</p>

<div class="highlight"><pre><code class="java"><span class="n">set</span> <span class="n">GSC_JAVA_OPTIONS</span><span class="o">=-</span><span class="n">Dspring</span><span class="o">.</span><span class="na">profiles</span><span class="o">.</span><span class="na">active</span><span class="o">=</span><span class="n">twitter</span><span class="o">-</span><span class="n">feeder</span><span class="o">,</span><span class="n">file</span><span class="o">-</span><span class="n">archiver</span>
</code></pre></div>

<p>&lt;/div&gt;
&lt;div class='tab-pane' id='windows_(list)' 
      		title='Windows (list)'&gt;</p>

<div class="highlight"><pre><code class="java"><span class="n">set</span> <span class="n">GSC_JAVA_OPTIONS</span><span class="o">=-</span><span class="n">Dspring</span><span class="o">.</span><span class="na">profiles</span><span class="o">.</span><span class="na">active</span><span class="o">=</span><span class="n">list</span><span class="o">-</span><span class="n">feeder</span><span class="o">,</span><span class="n">file</span><span class="o">-</span><span class="n">archiver</span>
</code></pre></div>

<p>&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;</p>

<ol>
  <li>Start a <a href="/xap96/2012/06/05/the-grid-service-agent.html">Grid Service Agent</a> by running the <code>gs-agent.sh/bat</code> script. This will start two <a href="/xap96/2013/03/18/the-grid-service-container.html">GSCs</a> (GSCs are the container JVMs for your processing units) and a <a href="/xap96/2011/09/07/the-grid-service-manager.html">GSM</a>. 
&lt;div class='tabsection'&gt;&lt;ul class='nav nav-tabs'&gt;&lt;/ul&gt;&lt;div class='tab-content'&gt;
&lt;div class='tab-pane' id='unix' 
   		title='Unix'&gt;</li>
</ol>

<div class="highlight"><pre><code class="java"><span class="n">nohup</span> <span class="o">./</span><span class="n">gs</span><span class="o">-</span><span class="n">agent</span><span class="o">.</span><span class="na">sh</span> <span class="o">&gt;/</span><span class="n">dev</span><span class="o">/</span><span class="kc">null</span> <span class="mi">2</span><span class="o">&gt;&amp;</span><span class="mi">1</span>
</code></pre></div>

<p>&lt;/div&gt;
&lt;div class='tab-pane' id='windows' 
      		title='Windows'&gt;</p>

<div class="highlight"><pre><code class="java"><span class="n">start</span> <span class="o">/</span><span class="n">min</span> <span class="n">gs</span><span class="o">-</span><span class="n">agent</span><span class="o">.</span><span class="na">bat</span>
</code></pre></div>

<p>&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;</p>

<ol>
  <li>Then deploy the processor
&lt;div class='tabsection'&gt;&lt;ul class='nav nav-tabs'&gt;&lt;/ul&gt;&lt;div class='tab-content'&gt;
&lt;div class='tab-pane' id='unix' 
   		title='Unix'&gt;</li>
</ol>

<div class="highlight"><pre><code class="java"><span class="o">./</span><span class="n">gs</span><span class="o">.</span><span class="na">sh</span> <span class="n">deploy</span> <span class="o">../</span><span class="n">recipes</span><span class="o">/</span><span class="n">apps</span><span class="o">/</span><span class="n">streaming</span><span class="o">-</span><span class="n">bigdata</span><span class="o">/</span><span class="n">bigDataApp</span><span class="o">/</span><span class="n">processor</span><span class="o">/</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">processor</span><span class="o">.</span><span class="na">jar</span>
</code></pre></div>

<p>&lt;/div&gt;
&lt;div class='tab-pane' id='windows' 
      		title='Windows'&gt;</p>

<div class="highlight"><pre><code class="java"><span class="n">gs</span> <span class="n">deploy</span> <span class="o">..</span><span class="err">\</span><span class="n">recipes</span><span class="err">\</span><span class="n">apps</span><span class="err">\</span><span class="n">streaming</span><span class="o">-</span><span class="n">bigdata</span><span class="err">\</span><span class="n">bigDataApp</span><span class="err">\</span><span class="n">processor</span><span class="err">\</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">processor</span><span class="o">.</span><span class="na">jar</span>
</code></pre></div>

<p>&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;
You should see the following output:</p>

<div class="highlight"><pre><code class="java"><span class="n">Deploying</span> <span class="o">[</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">processor</span><span class="o">.</span><span class="na">jar</span><span class="o">]</span> <span class="n">with</span> <span class="n">name</span> <span class="o">[</span><span class="n">rt</span><span class="o">-</span><span class="n">processor</span><span class="o">-</span><span class="n">XAP</span><span class="o">-</span><span class="mf">9.5</span><span class="o">.</span><span class="mi">1</span><span class="o">]</span> <span class="n">under</span> <span class="n">groups</span> <span class="o">[</span><span class="n">gigaspaces</span><span class="o">-</span><span class="mf">9.5</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="n">XAPPremium</span><span class="o">-</span><span class="n">ga</span><span class="o">]</span> <span class="n">and</span> <span class="n">locators</span> <span class="o">[]</span>
<span class="n">Uploading</span> <span class="o">[</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">processor</span><span class="o">]</span> <span class="n">to</span> <span class="o">[</span><span class="nl">http:</span><span class="c1">//127.0.0.1:61765/]</span>
<span class="n">Waiting</span> <span class="n">indefinitely</span> <span class="k">for</span> <span class="o">[</span><span class="mi">4</span><span class="o">]</span> <span class="n">processing</span> <span class="n">unit</span> <span class="n">instances</span> <span class="n">to</span> <span class="n">be</span> <span class="n">deployed</span><span class="o">...</span>
<span class="o">[</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">processor</span><span class="o">]</span> <span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="n">deployed</span> <span class="n">successfully</span> <span class="n">on</span> <span class="o">[</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="o">]</span>
<span class="o">[</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">processor</span><span class="o">]</span> <span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="n">deployed</span> <span class="n">successfully</span> <span class="n">on</span> <span class="o">[</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="o">]</span>
<span class="o">[</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">processor</span><span class="o">]</span> <span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="n">deployed</span> <span class="n">successfully</span> <span class="n">on</span> <span class="o">[</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="o">]</span>
<span class="o">[</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">processor</span><span class="o">]</span> <span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="n">deployed</span> <span class="n">successfully</span> <span class="n">on</span> <span class="o">[</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="o">]</span>
<span class="n">Finished</span> <span class="n">deploying</span> <span class="o">[</span><span class="mi">4</span><span class="o">]</span> <span class="n">processing</span> <span class="n">unit</span> <span class="n">instances</span>
</code></pre></div>

<ol>
  <li>Next, deploy the feeder:
&lt;div class='tabsection'&gt;&lt;ul class='nav nav-tabs'&gt;&lt;/ul&gt;&lt;div class='tab-content'&gt;
&lt;div class='tab-pane' id='unix' 
   		title='Unix'&gt;</li>
</ol>

<div class="highlight"><pre><code class="java"><span class="o">./</span><span class="n">gs</span><span class="o">.</span><span class="na">sh</span> <span class="n">deploy</span> <span class="o">../</span><span class="n">recipes</span><span class="o">/</span><span class="n">apps</span><span class="o">/</span><span class="n">streaming</span><span class="o">-</span><span class="n">bigdata</span><span class="o">/</span><span class="n">bigDataApp</span><span class="o">/</span><span class="n">feeder</span><span class="o">/</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">feeder</span><span class="o">.</span><span class="na">jar</span>
</code></pre></div>

<p>&lt;/div&gt;
&lt;div class='tab-pane' id='windows' 
      		title='Windows'&gt;</p>

<div class="highlight"><pre><code class="java"><span class="n">gs</span> <span class="n">deploy</span> <span class="o">..</span><span class="err">\</span><span class="n">recipes</span><span class="err">\</span><span class="n">apps</span><span class="err">\</span><span class="n">streaming</span><span class="o">-</span><span class="n">bigdata</span><span class="err">\</span><span class="n">bigDataApp</span><span class="err">\</span><span class="n">feeder</span><span class="err">\</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">feeder</span><span class="o">.</span><span class="na">jar</span>
</code></pre></div>

<p>&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;</p>

<div class="alert alert-danger"><i class="icon-minus-sign pull-left"></i>
<p>You will need XAP PREMIUM edition license key to deploy the processor in a clustered configuration</p>
</div>

<p>You should see the following output:</p>

<div class="highlight"><pre><code class="java"><span class="n">Deploying</span> <span class="o">[</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">feeder</span><span class="o">.</span><span class="na">jar</span><span class="o">]</span> <span class="n">with</span> <span class="n">name</span> <span class="o">[</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">feeder</span><span class="o">]</span> <span class="n">under</span> <span class="n">groups</span> <span class="o">[</span><span class="n">gigaspaces</span><span class="o">-</span><span class="mf">9.5</span><span class="o">.</span><span class="mi">1</span><span class="o">-</span><span class="n">XAPPremium</span><span class="o">-</span><span class="n">ga</span><span class="o">]</span> <span class="n">and</span> <span class="n">locators</span> <span class="o">[]</span>
<span class="n">Uploading</span> <span class="o">[</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">feeder</span><span class="o">]</span> <span class="n">to</span> <span class="o">[</span><span class="nl">http:</span><span class="c1">//127.0.0.1:61765/]</span>
<span class="n">SLA</span> <span class="n">Not</span> <span class="n">Found</span> <span class="n">in</span> <span class="n">PU</span><span class="o">.</span>  <span class="n">Using</span> <span class="n">Default</span> <span class="n">SLA</span><span class="o">.</span>
<span class="n">Waiting</span> <span class="n">indefinitely</span> <span class="k">for</span> <span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="n">processing</span> <span class="n">unit</span> <span class="n">instances</span> <span class="n">to</span> <span class="n">be</span> <span class="n">deployed</span><span class="o">...</span>
<span class="o">[</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">feeder</span><span class="o">]</span> <span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="n">deployed</span> <span class="n">successfully</span> <span class="n">on</span> <span class="o">[</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="o">]</span>
<span class="n">Finished</span> <span class="n">deploying</span> <span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="n">processing</span> <span class="n">unit</span> <span class="n">instances</span>
</code></pre></div>

<p>Once the application is running, you can use the XAP UI tools to view your application , access the data and the counters and manage the application:</p>

<ul>
  <li>For the Web Based UI run gs-webui.bat/sh and point your browser to <a href="http://localhost:8099">localhost:8099</a></li>
  <li>For the Rich Based UI run gs-ui.bat/sh</li>
</ul>

<div class="alert alert-info"><i class="icon-info-sign pull-left"></i><strong><p>More Deployment Options </p>
</strong>
<p>To learn about additional options for deploying your XAP processing units, please see <a href="/xap96/2013/02/21/deploying-onto-the-service-grid.html">Deploying onto the Service Grid</a></p>
</div>

<h1 id="viewing-most-popular-words-on-twitter">Viewing Most Popular Words on Twitter</h1>

<p>To view the most popular words on Twitter , start the GS-UI using the gs-ui.bat/sh , click the Query icon as demonstrated below and execute the following SQL Query by clicking the <img src="/attachment_files/rt-tw6.jpg" alt="rt-tw6.jpg" /> button:</p>

<div class="highlight"><pre><code class="java"><span class="n">select</span> <span class="n">uid</span><span class="o">,*</span> <span class="n">from</span> <span class="n">org</span><span class="o">.</span><span class="na">openspaces</span><span class="o">.</span><span class="na">bigdata</span><span class="o">.</span><span class="na">common</span><span class="o">.</span><span class="na">counters</span><span class="o">.</span><span class="na">GlobalCounter</span> <span class="n">order</span> <span class="n">by</span> <span class="n">counter</span> <span class="n">DESC</span>
</code></pre></div>

<p>You should see the top most popular words on twitter ordered by their popularity:</p>

<div class="indent0">
<p><img src="/attachment_files/rt-tw4new.jpg" alt="rt-tw4new.jpg" /></p>
</div>

<p>You can re-execute the query just by clicking the <img src="/attachment_files/rt-tw5.jpg" alt="rt-tw5.jpg" /> button again. This will give you real-time view on the most popular words on Twitter.</p>

<h1 id="persisting-to-cassandra">Persisting to Cassandra</h1>

<p>Once raw tweets are processed, they are moved from the Space to the historical data backend store. By default, this points to a <strong>simple flat file archiver</strong> storage implemented with the <code>FileArchiveOperationHandler</code>. The example application also includes a Cassandra driver <code>CassandraArchiveHandler</code>. </p>

<div class="alert alert-success"><i class="icon-ok pull-left"></i>
<p>For more advanced persistency implementation see the <a href="/xap96/2012/12/28/cassandra-space-persistency.html">Cassandra Space Persistency Solution</a>.</p>
</div>

<div class="alert alert-success"><i class="icon-ok pull-left"></i>
<p>The next section uses cloudify to automate the manual steps described below</p>
</div>

<p>The following are step-by-step instructions configuring the application to persist to Cassandra:</p>

<ol>
  <li>Download, install, and start the Cassandra database. For more information, see Cassandras <a href="http://wiki.apache.org/cassandra/GettingStarted">Getting Started</a> page.</li>
  <li>Define the TWITTER cassandra keyspace by running the following shell command:</li>
</ol>

<div class="highlight"><pre><code class="java"><span class="o">&lt;</span><span class="n">cassandra</span> <span class="n">home</span><span class="o">&gt;/</span><span class="n">bin</span><span class="o">/</span><span class="n">cassandra</span><span class="o">-</span><span class="n">cli</span> <span class="o">--</span><span class="n">host</span> <span class="o">&lt;</span><span class="n">cassandra</span> <span class="n">host</span> <span class="n">name</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">file</span> <span class="o">&lt;</span><span class="n">project</span> <span class="n">home</span><span class="o">&gt;/</span><span class="n">bigDataApp</span><span class="o">/</span><span class="n">cassandra</span><span class="o">/</span><span class="n">cassandraKeyspace</span><span class="o">.</span><span class="na">txt</span>
</code></pre></div>

<ol>
  <li>Deploy the processor and feeder</li>
  <li>Start the Grid Components as described in the previous section. Do not deploy the application just yet. We need to start cassandra first.
We need to teardown the existing application since we injected the spring profile using environment variables that affect all Grid components.
Notice how this time we use the <code>cassandra-archiver</code> profile (instead of the <code>file-archiver profile</code>).
&lt;div class='tabsection'&gt;&lt;ul class='nav nav-tabs'&gt;&lt;/ul&gt;&lt;div class='tab-content'&gt;
&lt;div class='tab-pane' id='unix' 
   		title='Unix'&gt;</li>
</ol>

<div class="highlight"><pre><code class="java"><span class="o">./</span><span class="n">gs</span><span class="o">.</span><span class="na">sh</span> <span class="n">gsa</span> <span class="n">shutdown</span>
<span class="n">export</span> <span class="n">GSC_JAVA_OPTIONS</span><span class="o">=</span><span class="s">&quot;-Dspring.profiles.active=twitter-feeder,cassandra-archiver -Dcassandra.hosts=127.0.0.1&quot;</span>
<span class="n">nohup</span> <span class="o">./</span><span class="n">gs</span><span class="o">-</span><span class="n">agent</span><span class="o">.</span><span class="na">sh</span> <span class="o">&gt;/</span><span class="n">dev</span><span class="o">/</span><span class="kc">null</span> <span class="mi">2</span><span class="o">&gt;&amp;</span><span class="mi">1</span>
<span class="o">./</span><span class="n">gs</span><span class="o">.</span><span class="na">sh</span> <span class="n">deploy</span> <span class="o">../</span><span class="n">recipes</span><span class="o">/</span><span class="n">apps</span><span class="o">/</span><span class="n">streaming</span><span class="o">-</span><span class="n">bigdata</span><span class="o">/</span><span class="n">bigDataApp</span><span class="o">/</span><span class="n">processor</span><span class="o">/</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">processor</span><span class="o">.</span><span class="na">jar</span>
<span class="o">./</span><span class="n">gs</span><span class="o">.</span><span class="na">sh</span> <span class="n">deploy</span> <span class="o">../</span><span class="n">recipes</span><span class="o">/</span><span class="n">apps</span><span class="o">/</span><span class="n">streaming</span><span class="o">-</span><span class="n">bigdata</span><span class="o">/</span><span class="n">bigDataApp</span><span class="o">/</span><span class="n">feeder</span><span class="o">/</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">feeder</span><span class="o">.</span><span class="na">jar</span>
</code></pre></div>

<p>&lt;/div&gt;
&lt;div class='tab-pane' id='windows' 
      		title='Windows'&gt;</p>

<div class="highlight"><pre><code class="java"><span class="n">gs</span><span class="o">.</span><span class="na">bat</span> <span class="n">gsa</span> <span class="n">shutdown</span>
<span class="n">set</span> <span class="n">GSC_JAVA_OPTIONS</span><span class="o">=-</span><span class="n">Dspring</span><span class="o">.</span><span class="na">profiles</span><span class="o">.</span><span class="na">active</span><span class="o">=</span><span class="n">twitter</span><span class="o">-</span><span class="n">feeder</span><span class="o">,</span><span class="n">cassandra</span><span class="o">-</span><span class="n">archiver</span> <span class="o">-</span><span class="n">Dcassandra</span><span class="o">.</span><span class="na">hosts</span><span class="o">=</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span>
<span class="n">start</span> <span class="o">/</span><span class="n">min</span> <span class="n">gs</span><span class="o">-</span><span class="n">agent</span><span class="o">.</span><span class="na">bat</span>
<span class="n">gs</span> <span class="n">deploy</span> <span class="o">..</span><span class="err">\</span><span class="n">recipes</span><span class="err">\</span><span class="n">apps</span><span class="err">\</span><span class="n">streaming</span><span class="o">-</span><span class="n">bigdata</span><span class="err">\</span><span class="n">bigDataApp</span><span class="err">\</span><span class="n">processor</span><span class="err">\</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">processor</span><span class="o">.</span><span class="na">jar</span>
<span class="n">gs</span> <span class="n">deploy</span> <span class="o">..</span><span class="err">\</span><span class="n">recipes</span><span class="err">\</span><span class="n">apps</span><span class="err">\</span><span class="n">streaming</span><span class="o">-</span><span class="n">bigdata</span><span class="err">\</span><span class="n">bigDataApp</span><span class="err">\</span><span class="n">feeder</span><span class="err">\</span><span class="n">rt</span><span class="o">-</span><span class="n">analytics</span><span class="o">-</span><span class="n">feeder</span><span class="o">.</span><span class="na">jar</span>
</code></pre></div>

<p>&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;</p>

<ol>
  <li>You can view the data within Cassandra using the Tweet column family - Move to the Cassandra <code>bin</code> folder and run the <code>cassandra-cli</code> command:</li>
</ol>

<div class="highlight"><pre><code class="java"><span class="o">&gt;</span><span class="n">cassandra</span><span class="o">-</span><span class="n">cli</span><span class="o">.</span><span class="na">bat</span>
<span class="o">[</span><span class="k">default</span><span class="nd">@unknown</span><span class="o">]</span> <span class="n">connect</span> <span class="n">localhost</span><span class="o">/</span><span class="mi">9160</span><span class="o">;</span>
<span class="o">[</span><span class="k">default</span><span class="nd">@unknown</span><span class="o">]</span> <span class="n">use</span> <span class="n">TWITTER</span><span class="o">;</span>
<span class="o">[</span><span class="k">default</span><span class="nd">@TWITTER</span><span class="o">]</span> <span class="n">list</span> <span class="n">Tweet</span><span class="o">;</span>
<span class="o">-------------------</span>
<span class="nl">RowKey:</span> <span class="mi">0439486840025000</span>
<span class="o">=&gt;</span> <span class="o">(</span><span class="n">column</span><span class="o">=</span><span class="n">Archived</span><span class="o">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">00000000</span><span class="o">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="mi">1361398666863002</span><span class="o">)</span>
<span class="o">=&gt;</span> <span class="o">(</span><span class="n">column</span><span class="o">=</span><span class="n">CreatedAt</span><span class="o">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">0000013</span><span class="n">cf9aea1c8</span><span class="o">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="mi">1361398666863004</span><span class="o">)</span>
<span class="o">=&gt;</span> <span class="o">(</span><span class="n">column</span><span class="o">=</span><span class="n">FromUserId</span><span class="o">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">0000000039137</span><span class="n">bb7</span><span class="o">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="mi">1361398666863003</span><span class="o">)</span>
<span class="o">=&gt;</span> <span class="o">(</span><span class="n">column</span><span class="o">=</span><span class="n">Processed</span><span class="o">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">01</span><span class="o">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="mi">1361398666863001</span><span class="o">)</span>
<span class="o">=&gt;</span> <span class="o">(</span><span class="n">column</span><span class="o">=</span><span class="n">Text</span><span class="o">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">405</span><span class="n">f5f4c6f7665526562656c64652073656775696e646f2021205573613f20234172746875724d65754d61696</span><span class="o">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="mi">136139866</span>
<span class="mi">6863000</span><span class="o">)</span>
<span class="o">...</span>
</code></pre></div>

<h1 id="running-the-example-using-cloudify">Running the Example using Cloudify</h1>

<p>To run the application with the Cassandra DB as one application on any cloud, we will use <a href="http://www.cloudifysource.org">Cloudify</a>. A key concept with Cloudify is deploying and managing the entire application life cycle using a <a href="http://www.cloudifysource.org/guide/2.3/developing/recipes_overview">Recipe</a>. This approach provides total application life-cycle automation without any code or architecture change. Furthermore, it is cloud neutral so you dont get locked-in to a specific cloud vendor.</p>

<p>The following snippet shows the applications recipe:</p>

<div class="highlight"><pre><code class="java"><span class="n">application</span> <span class="o">{</span>
	<span class="n">name</span><span class="o">=</span><span class="s">&quot;big_data_app&quot;</span>
	
	<span class="n">service</span> <span class="o">{</span>
		<span class="n">name</span> <span class="o">=</span> <span class="s">&quot;feeder&quot;</span>
		<span class="n">dependsOn</span> <span class="o">=</span> <span class="o">[</span><span class="s">&quot;processor&quot;</span><span class="o">]</span>
	<span class="o">}</span>
	<span class="n">service</span> <span class="o">{</span>
		<span class="n">name</span> <span class="o">=</span> <span class="s">&quot;processor&quot;</span>
		<span class="n">dependsOn</span> <span class="o">=</span> <span class="o">[</span><span class="s">&quot;cassandra&quot;</span><span class="o">]</span>		
	<span class="o">}</span>
	<span class="n">service</span> <span class="o">{</span>
		<span class="n">name</span> <span class="o">=</span> <span class="s">&quot;cassandra&quot;</span>	
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div>

<p>The following snippet shows the life-cycle events described in the Cassandra service recipe:</p>

<div class="highlight"><pre><code class="java"><span class="n">service</span> <span class="o">{</span>
  <span class="n">name</span> <span class="s">&quot;rt_cassandra&quot;</span>
  <span class="n">icon</span> <span class="s">&quot;Apache-cassandra-icon.png&quot;</span>
  <span class="n">numInstances</span> <span class="mi">1</span>
  <span class="n">type</span> <span class="s">&quot;NOSQL_DB&quot;</span>
  <span class="n">lifecycle</span><span class="o">{</span>
		<span class="n">init</span> 		<span class="s">&quot;cassandra_install.groovy&quot;</span>
		<span class="n">preStart</span> 	<span class="s">&quot;cassandra_prestart.groovy&quot;</span>
		<span class="n">start</span> 		<span class="s">&quot;cassandra_start.groovy&quot;</span>
		<span class="n">postStart</span> 	<span class="s">&quot;cassandra_poststart.groovy&quot;</span>

	<span class="o">}</span>
<span class="o">...</span>
<span class="o">}</span>
</code></pre></div>

<p>The following snippet shows the processing unit described in the processor recipe:</p>

<div class="highlight"><pre><code class="java"><span class="n">service</span> <span class="o">{</span>
    <span class="n">name</span> <span class="s">&quot;processor&quot;</span>
    <span class="n">numInstances</span> <span class="mi">4</span>
    <span class="n">maxAllowedInstances</span> <span class="mi">4</span>
    <span class="n">statefulProcessingUnit</span> <span class="o">{</span>
        <span class="n">binaries</span> <span class="s">&quot;rt-analytics-processor.jar&quot;</span>
		<span class="n">springProfilesActive</span> <span class="s">&quot;cassandra-archiver,cassandra-discovery&quot;</span>
        <span class="n">sla</span> <span class="o">{</span>
            <span class="n">memoryCapacity</span> <span class="mi">512</span>
            <span class="n">maxMemoryCapacity</span> <span class="mi">512</span>
            <span class="n">highlyAvailable</span> <span class="kc">true</span>
            <span class="n">memoryCapacityPerContainer</span> <span class="mi">128</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>

<p>The application recipe is packaged, as follows:
<img src="/attachment_files/rt_app.png" alt="rt_app.png" /></p>

<h3 id="testing-the-application-on-a-local-cloud">Testing the application on a Local Cloud</h3>

<p>XAP comes with a cloud emulator called <code>localcloud</code>. It allows you to test the recipe execution on your local machine. Follo these step-by-step instructions to installing and run the application on the <code>localcloud</code>:</p>

<ol>
  <li>Move to the <xapinstallationroot>/tools/cli/ folder, and at the command (Windows) prompt, type: `cloudify.bat` (or at the shell *nix prompt, type: `cloudify.sh`).</xapinstallationroot></li>
  <li>To start the localcloud services, at the prompt, type <code>bootstrap-localcloud</code>. This may take few minutes.</li>
  <li>To deploy the application, at the prompt, type:</li>
</ol>

<div class="highlight"><pre><code class="java"><span class="n">install</span><span class="o">-</span><span class="n">application</span> <span class="o">&lt;</span><span class="n">XapInstallationRoot</span><span class="o">&gt;/</span><span class="n">recipes</span><span class="o">/</span><span class="n">apps</span><span class="o">/</span><span class="n">streaming</span><span class="o">-</span><span class="n">bigdata</span><span class="o">/</span><span class="n">bigDataApp</span>
</code></pre></div>

<div class="alert alert-info"><i class="icon-info-sign pull-left"></i><strong><p>Tracking installation progress </p>
</strong>
<p>You can track the progress on the shell and on the web management console (localhost:8099).</p>
</div>

<p>For more information, see <a href="http://www.cloudifysource.org/guide/deploying/deploying_apps">Deploying Applications</a> page.</p>

<h3 id="running-on-clouds">Running on Clouds</h3>

<p>To run the application on one of the supported clouds, proceed the following steps:</p>

<ol>
  <li>Configure the cloud driver configuration file and get the cloud certificate. For more information, see <a href="http://www.cloudifysource.org/guide/setup/post_installation_configuration">Post-Installation Configuration</a> page.</li>
  <li>Bootstrap the cloud. For more information, see <a href="http://shlomo-tech-tav.github.com/guide/bootstrapping/bootstrapping_process">The Bootstrapping Process</a> page.</li>
  <li>To install and deploy the application, use the <code>install-application</code> command, as described in the previous section.
&lt;div class="alert alert-info"&gt;<i class="icon-info-sign pull-left"></i><strong>&lt;p&gt;Running XAP on the Cloud &lt;/p&gt;
</strong></li>
</ol>
<p>In order to use your license on the cloud environment you should perform the following:</p>

<ul>
  <li>cd to <code>&lt;XAP installation root&gt;/tools/cli/plugins/ecs/&lt;cloud name&gt;/upload</code></li>
  <li>create directory cloudify-overrides</li>
  <li>copy your license(<xap installation="" root="">/gslicense.xml) to the above directory.</xap></li>
</ul>
<p>&lt;/div&gt;</p>

<!--

<h1 id="the-design-in-details">The Design In Details</h1>

<p>Now lets take a closer look at the components of the solution. Our solution is designed to efficiently cope with getting and processing the large volume of tweets. First, we partition the tweets so that we can process them in parallel, but we have to decide on how to partition them efficiently. Partitioning by user might not be sufficiently balanced, therefore we decided to partition by the tweet ID, which we assume to be globally unique. Then we need persist and process the data with low latency, and for this we store the tweets in memory.</p>

<p>This section describes the following components of the solution that implements these design decisions:
<a href="#get">Getting the Tweets</a>
<a href="#parse">Parsing the Tweets</a>
<a href="#filter">Filtering the Tweets</a>
<a href="#local">Generating the Local Counters</a>
<a href="#global">Generating Global Counters</a>
<a href="#persist">Persisting the Tweets to the Big Data Store</a></p>

<div id="get"></div>

<h3 id="getting-the-tweets">Getting the Tweets</h3>

<p>First, we need to get the tweets and store them in the Space (IMDG). In this example, we use <a href="https://github.com/SpringSource/spring-social">Spring Social</a> to provide a Java interface to the Twitter API and get the tweets, and the <a href="/xap96/2013/05/25/document-api.html">SpaceDocument</a> API of XAP to store the tweets. Using a SpaceDocument allows for a more flexible data model, the <code>SpaceDocument</code> being like a Map. The partitioning used the default ID attribute.</p>

<p>The following snippet shows the relevant <code>TwitterHomeTimelineFeederTask</code> sections.</p>

<div class="highlight"><pre><code class="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TwitterHomeTimelineFeederTask</span> <span class="n">implement</span> <span class="n">Runnable</span> <span class="o">{</span>

    <span class="o">...</span>
    <span class="kd">public</span> <span class="n">SpaceDocument</span> <span class="nf">buildTweet</span><span class="o">(</span><span class="n">Tweet</span> <span class="n">tweet</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">SpaceDocument</span><span class="o">(</span><span class="s">&quot;Tweet&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">DocumentProperties</span><span class="o">()</span> 
		<span class="o">.</span><span class="na">setProperty</span><span class="o">(</span><span class="s">&quot;Id&quot;</span><span class="o">,</span> <span class="n">tweet</span><span class="o">.</span><span class="na">getId</span><span class="o">())</span> 
		<span class="o">.</span><span class="na">setProperty</span><span class="o">(</span><span class="s">&quot;Text&quot;</span><span class="o">,</span> <span class="n">tweet</span><span class="o">.</span><span class="na">getText</span><span class="o">())</span> 
		<span class="o">.</span><span class="na">setProperty</span><span class="o">(</span><span class="s">&quot;CreatedAt&quot;</span><span class="o">,</span> <span class="n">tweet</span><span class="o">.</span><span class="na">getCreatedAt</span><span class="o">())</span> 
		<span class="o">.</span><span class="na">setProperty</span><span class="o">(</span><span class="s">&quot;FromUserId&quot;</span><span class="o">,</span> <span class="n">tweet</span><span class="o">.</span><span class="na">getFromUserId</span><span class="o">())</span> 
		<span class="o">.</span><span class="na">setProperty</span><span class="o">(</span><span class="s">&quot;ToUserId&quot;</span><span class="o">,</span> <span class="n">tweet</span><span class="o">.</span><span class="na">getToUserId</span><span class="o">())</span> 
		<span class="o">.</span><span class="na">setProperty</span><span class="o">(</span><span class="s">&quot;Processed&quot;</span><span class="o">,</span> <span class="n">Boolean</span><span class="o">.</span><span class="na">FALSE</span><span class="o">));</span>
	<span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
    	<span class="n">List</span><span class="o">&lt;</span><span class="n">Tweet</span><span class="o">&gt;</span> <span class="n">userTimeline</span><span class="o">;</span>
    	<span class="k">try</span> <span class="o">{</span>
    		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&quot;Getting latest tweets from public timeline and feeding them into processing grid&quot;</span><span class="o">);</span>
    		<span class="c1">// Return all the tweets from the Twitter API</span>
    		<span class="n">userTimeline</span> <span class="o">=</span> <span class="n">twitterTemplate</span><span class="o">.</span><span class="na">timelineOperations</span><span class="o">().</span><span class="na">getUserTimeline</span><span class="o">(</span><span class="s">&quot;BriefingcomSMU&quot;</span><span class="o">);</span>
    	<span class="o">}</span>
        <span class="k">catch</span><span class="o">(</span><span class="n">ApiException</span> <span class="n">e</span><span class="o">){</span>
        	<span class="n">log</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">Level</span><span class="o">.</span><span class="na">SEVERE</span><span class="o">,</span> <span class="s">&quot;Error getting tweets from public timeline from twitter&quot;</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
        	<span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
    	<span class="k">try</span> <span class="o">{</span>
    		<span class="c1">//according to the API we may get duplicate tweets if invoked with frequency of lower than 60 seconds.</span>
    		<span class="c1">//We will filter tweets which are duplicates</span>
    		<span class="k">for</span> <span class="o">(</span><span class="n">Tweet</span> <span class="n">publicTweet</span> <span class="o">:</span> <span class="n">userTimeline</span><span class="o">)</span> <span class="o">{</span>
    			<span class="k">if</span> <span class="o">(</span><span class="n">previousTimeLineTweets</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">publicTweet</span><span class="o">.</span><span class="na">getId</span><span class="o">())){</span>
    				<span class="k">continue</span><span class="o">;</span>
    			<span class="o">}</span>
    			<span class="n">logTweet</span><span class="o">(</span><span class="n">publicTweet</span><span class="o">);</span>
    			<span class="n">gigaSpace</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">buildTweet</span><span class="o">(</span><span class="n">publicTweet</span><span class="o">));</span>
    		<span class="o">}</span>
    	<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">DataAccessException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    		<span class="n">log</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">Level</span><span class="o">.</span><span class="na">SEVERE</span><span class="o">,</span> <span class="s">&quot;error feeding tweets&quot;</span><span class="o">,</span><span class="n">e</span><span class="o">);</span>
    	<span class="o">}</span>
    	<span class="k">finally</span> <span class="o">{</span>
    		<span class="n">previousTimeLineTweets</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span>
    		<span class="k">for</span> <span class="o">(</span><span class="n">Tweet</span> <span class="n">publicTweet</span> <span class="o">:</span> <span class="n">userTimeline</span><span class="o">)</span> <span class="o">{</span>
    			<span class="n">previousTimeLineTweets</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">publicTweet</span><span class="o">.</span><span class="na">getId</span><span class="o">());</span>
    		<span class="o">}</span>
    	<span class="o">}</span>
    <span class="o">}</span>

    <span class="o">...</span>
<span class="o">}</span>
</code></pre></div>

<div id="parse"></div>

<h3 id="parsing-the-tweets">Parsing the Tweets</h3>

<p>We have the raw data but we need to tokenize and filter it, and then update the local counters - these are the tasks performed by the <strong>Map</strong> phase of the <strong>Map</strong> / <strong>Reduce</strong> algorithm.</p>

<p>To generate this real-time flow, XAP uses the <a href="/xap96/2012/09/04/messaging-support.html">event driven architecture of the event container</a>. Specifically, we use a <a href="/xap96/2013/04/12/polling-container.html">Polling Container</a> to listen for events relating to the writing of raw tweets to the Space. These events are configured using the <code>SQLQuery</code> returned by the <code>unprocessedTweet</code> method marked as <code>@EventTemplate</code>. Then, we tokenize &amp; filter the tweet using the <code>@SpaceDataEvent</code> to mark the event handling method. The result is an object of type <code>TokenizedTweet</code> written to the Space.</p>

<p>The following snippet shows the relevant <code>TweetParser</code> sections.</p>

<div class="highlight"><pre><code class="java"><span class="nd">@EventDriven</span>
<span class="nd">@Polling</span><span class="o">(</span><span class="n">gigaSpace</span> <span class="o">=</span> <span class="s">&quot;gigaSpace&quot;</span><span class="o">,</span> <span class="n">concurrentConsumers</span> <span class="o">=</span> <span class="mi">2</span><span class="o">,</span> <span class="n">maxConcurrentConsumers</span> <span class="o">=</span> <span class="mi">2</span><span class="o">)</span>
<span class="nd">@TransactionalEvent</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TweetParser</span> <span class="o">{</span>
   <span class="o">...</span>
    <span class="cm">/**</span>
<span class="cm">     * Event handler that receives a Tweet instance, processes its text and generates a listing of the tokens appearing in the </span>
<span class="cm">     * text and their respective count of appearance in the text, instantiates an instance of {@link TokenizedTweet} with this </span>
<span class="cm">     * data, and writes it to the space.</span>
<span class="cm">     * </span>
<span class="cm">     * @param tweet</span>
<span class="cm">     * @return {@link TokenizedTweet} containing a mapping of {token-&gt;count}</span>
<span class="cm">     */</span>
    <span class="nd">@SpaceDataEvent</span>
    <span class="kd">public</span> <span class="n">SpaceDocument</span> <span class="nf">eventListener</span><span class="o">(</span><span class="n">SpaceDocument</span> <span class="n">tweet</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&quot;parsing tweet &quot;</span> <span class="o">+</span> <span class="n">tweet</span><span class="o">);</span>

        <span class="n">Long</span> <span class="n">id</span> <span class="o">=</span> <span class="o">(</span><span class="n">Long</span><span class="o">)</span> <span class="n">tweet</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">&quot;Id&quot;</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">text</span> <span class="o">=</span> <span class="n">tweet</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">&quot;Text&quot;</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">text</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">gigaSpace</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="k">new</span> <span class="n">TokenizedTweet</span><span class="o">(</span><span class="n">id</span><span class="o">,</span> <span class="n">tokenize</span><span class="o">(</span><span class="n">text</span><span class="o">)));</span>
        <span class="o">}</span>

        <span class="n">tweet</span><span class="o">.</span><span class="na">setProperty</span><span class="o">(</span><span class="s">&quot;Processed&quot;</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">tweet</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">protected</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">tokenize</span><span class="o">(</span><span class="n">String</span> <span class="n">text</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">tokenMap</span> <span class="o">=</span> <span class="n">newHashMap</span><span class="o">();</span>
        <span class="n">StringTokenizer</span> <span class="n">st</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringTokenizer</span><span class="o">(</span><span class="n">text</span><span class="o">,</span> <span class="s">&quot;\&quot;{}[]:;|&lt;&gt;?`&#39;.,/~!@#$%^&amp;*()_-+= \t\n\r\f</span>
<span class="s">  &quot;</span><span class="o">);</span>

        <span class="k">while</span> <span class="o">(</span><span class="n">st</span><span class="o">.</span><span class="na">hasMoreTokens</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">token</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="na">nextToken</span><span class="o">();</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">token</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&lt;</span> <span class="n">MIN_TOKEN_LENGTH</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">continue</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="n">Integer</span> <span class="n">count</span> <span class="o">=</span> <span class="n">tokenMap</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">token</span><span class="o">)</span> <span class="o">?</span> <span class="n">tokenMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">token</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">1</span><span class="o">;</span>
            <span class="n">tokenMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">token</span><span class="o">,</span> <span class="n">count</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">tokenMap</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>

<div id="filter"></div>

<h3 id="filtering-the-tweets">Filtering the Tweets</h3>

<p>The <code>TokenFilter</code> event handler is triggered by the writing of maps of tokens (<code>TokenizedTweet</code> objects) to the Space (marked as Non-Filtered). Its implemented as a batch polling container with a batch size of 100 entries. This class is responsible for filtering out a default list of irrelevant words like prepositions, and can be extended by applying additional values lists stored in the Space as black lists. The filter updates the <code>TokenizedTweet</code> objects, removing the irrelevant words and writes them to the Space.</p>

<p>The following snippet shows the relevant <code>TokenFilter</code> sections.</p>

<div class="highlight"><pre><code class="java"><span class="nd">@EventDriven</span>
<span class="nd">@Polling</span><span class="o">(</span><span class="n">gigaSpace</span> <span class="o">=</span> <span class="s">&quot;gigaSpace&quot;</span><span class="o">,</span> <span class="n">concurrentConsumers</span> <span class="o">=</span> <span class="mi">2</span><span class="o">,</span> <span class="n">maxConcurrentConsumers</span> <span class="o">=</span> <span class="mi">2</span><span class="o">,</span> <span class="n">receiveTimeout</span> <span class="o">=</span> <span class="mi">5000</span><span class="o">)</span>
<span class="nd">@TransactionalEvent</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TokenFilter</span> <span class="o">{</span>
    <span class="o">...</span>

    <span class="cm">/**</span>
<span class="cm">     * Event handler that receives a {@link TokenizedTweet} and filters out non-informative tokens. Filtering is performed using</span>
<span class="cm">     * {@link #isTokenRequireFilter(String)}</span>
<span class="cm">     * </span>
<span class="cm">     * @param tokenizedTweet</span>
<span class="cm">     * @return the input tokenizedTweet after modifications</span>
<span class="cm">     */</span>
    <span class="nd">@SpaceDataEvent</span>
    <span class="kd">public</span> <span class="n">TokenizedTweet</span> <span class="nf">eventListener</span><span class="o">(</span><span class="n">TokenizedTweet</span> <span class="n">tokenizedTweet</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&quot;filtering tweet &quot;</span> <span class="o">+</span> <span class="n">tokenizedTweet</span><span class="o">.</span><span class="na">getId</span><span class="o">());</span>
        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">tokenMap</span> <span class="o">=</span> <span class="n">newHashMap</span><span class="o">(</span><span class="n">tokenizedTweet</span><span class="o">.</span><span class="na">getTokenMap</span><span class="o">());</span>
        <span class="kt">int</span> <span class="n">numTokensBefore</span> <span class="o">=</span> <span class="n">tokenMap</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
        <span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Entry</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;&gt;</span> <span class="n">it</span> <span class="o">=</span> <span class="n">tokenMap</span><span class="o">.</span><span class="na">entrySet</span><span class="o">().</span><span class="na">iterator</span><span class="o">();</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">Entry</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">entry</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">isTokenRequireFilter</span><span class="o">(</span><span class="n">entry</span><span class="o">.</span><span class="na">getKey</span><span class="o">()))</span> <span class="o">{</span>
                <span class="n">it</span><span class="o">.</span><span class="na">remove</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">numTokensAfter</span> <span class="o">=</span> <span class="n">tokenMap</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
        <span class="n">tokenizedTweet</span><span class="o">.</span><span class="na">setTokenMap</span><span class="o">(</span><span class="n">tokenMap</span><span class="o">);</span>
        <span class="n">tokenizedTweet</span><span class="o">.</span><span class="na">setFiltered</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">log</span><span class="o">.</span><span class="na">fine</span><span class="o">(</span><span class="s">&quot;filtered out &quot;</span> <span class="o">+</span> <span class="o">(</span><span class="n">numTokensBefore</span> <span class="o">-</span> <span class="n">numTokensAfter</span><span class="o">)</span> <span class="o">+</span> <span class="s">&quot; tokens from tweet &quot;</span> <span class="o">+</span> <span class="n">tokenizedTweet</span><span class="o">.</span><span class="na">getId</span><span class="o">());</span>
        <span class="k">return</span> <span class="n">tokenizedTweet</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isTokenRequireFilter</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">token</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">filterTokensSet</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">token</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">filterTokensSet</span> <span class="o">=</span> <span class="n">newHashSet</span><span class="o">(</span><span class="s">&quot;aboard&quot;</span><span class="o">,</span> <span class="s">&quot;about&quot;</span><span class="o">,</span> <span class="s">&quot;above&quot;</span><span class="o">,</span> <span class="s">&quot;across&quot;</span><span class="o">,</span> <span class="s">&quot;after&quot;</span><span class="o">,</span> <span class="s">&quot;against&quot;</span><span class="o">,</span> 
            <span class="s">&quot;along&quot;</span><span class="o">,</span> <span class="s">&quot;amid&quot;</span><span class="o">,</span> <span class="s">&quot;among&quot;</span><span class="o">,</span> <span class="s">&quot;anti&quot;</span><span class="o">,</span> <span class="s">&quot;around&quot;</span><span class="o">,</span> <span class="s">&quot;as&quot;</span><span class="o">,</span> <span class="s">&quot;at&quot;</span><span class="o">,</span> <span class="s">&quot;before&quot;</span><span class="o">,</span> <span class="s">&quot;behind&quot;</span><span class="o">,</span> <span class="s">&quot;below&quot;</span><span class="o">,</span> <span class="s">&quot;beneath&quot;</span><span class="o">,</span> <span class="s">&quot;beside&quot;</span><span class="o">,</span> <span class="s">&quot;besides&quot;</span><span class="o">,</span> 
            <span class="s">&quot;between&quot;</span><span class="o">,</span> <span class="s">&quot;beyond&quot;</span><span class="o">,</span> <span class="s">&quot;but&quot;</span><span class="o">,</span> <span class="s">&quot;by&quot;</span><span class="o">,</span> <span class="s">&quot;concerning&quot;</span><span class="o">,</span> <span class="s">&quot;considering&quot;</span><span class="o">,</span> <span class="s">&quot;despite&quot;</span><span class="o">,</span> <span class="s">&quot;down&quot;</span><span class="o">,</span> <span class="s">&quot;during&quot;</span><span class="o">,</span> <span class="s">&quot;except&quot;</span><span class="o">,</span> <span class="s">&quot;excepting&quot;</span><span class="o">,</span> 
            <span class="s">&quot;excluding&quot;</span><span class="o">,</span> <span class="s">&quot;following&quot;</span><span class="o">,</span> <span class="s">&quot;for&quot;</span><span class="o">,</span> <span class="s">&quot;from&quot;</span><span class="o">,</span> <span class="s">&quot;in&quot;</span><span class="o">,</span> <span class="s">&quot;inside&quot;</span><span class="o">,</span> <span class="s">&quot;into&quot;</span><span class="o">,</span> <span class="s">&quot;like&quot;</span><span class="o">,</span> <span class="s">&quot;minus&quot;</span><span class="o">,</span> <span class="s">&quot;near&quot;</span><span class="o">,</span> <span class="s">&quot;of&quot;</span><span class="o">,</span> <span class="s">&quot;off&quot;</span><span class="o">,</span> <span class="s">&quot;on&quot;</span><span class="o">,</span> <span class="s">&quot;onto&quot;</span><span class="o">,</span> 
            <span class="s">&quot;opposite&quot;</span><span class="o">,</span> <span class="s">&quot;outside&quot;</span><span class="o">,</span> <span class="s">&quot;over&quot;</span><span class="o">,</span> <span class="s">&quot;past&quot;</span><span class="o">,</span> <span class="s">&quot;per&quot;</span><span class="o">,</span> <span class="s">&quot;plus&quot;</span><span class="o">,</span> <span class="s">&quot;regarding&quot;</span><span class="o">,</span> <span class="s">&quot;round&quot;</span><span class="o">,</span> <span class="s">&quot;save&quot;</span><span class="o">,</span> <span class="s">&quot;since&quot;</span><span class="o">,</span> <span class="s">&quot;than&quot;</span><span class="o">,</span> <span class="s">&quot;through&quot;</span><span class="o">,</span> <span class="s">&quot;to&quot;</span><span class="o">,</span>
            <span class="s">&quot;toward&quot;</span><span class="o">,</span> <span class="s">&quot;under&quot;</span><span class="o">,</span> <span class="s">&quot;underneath&quot;</span><span class="o">,</span> <span class="s">&quot;unlike&quot;</span><span class="o">,</span> <span class="s">&quot;until&quot;</span><span class="o">,</span> <span class="s">&quot;up&quot;</span><span class="o">,</span> <span class="s">&quot;upon&quot;</span><span class="o">,</span> <span class="s">&quot;versus&quot;</span><span class="o">,</span> <span class="s">&quot;via&quot;</span><span class="o">,</span> <span class="s">&quot;with&quot;</span><span class="o">,</span> <span class="s">&quot;within&quot;</span><span class="o">,</span> <span class="s">&quot;without&quot;</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div>

<div id="local"></div>

<h3 id="generating-the-local-counters">Generating the Local Counters</h3>

<p>This step completes the <strong>Map</strong> phase by taking the filtered maps of tokens, normalizing them, and counting the occurrences of relevant words per tweet. This is achieved using a PollingContainer named <code>LocalTokenCounter</code> that reads batches of filtered <code>TokenizedTweet</code> objects, and updates the counters which are <code>TokenCounter</code> objects in the Space. Note that <code>TokenCounter</code> objects are partitioned by the token for which they are aggregating the count.</p>

<p>The following snippet shows the relevant <code>LocalTokenCounter</code> sections.</p>

<div class="highlight"><pre><code class="java"><span class="nd">@EventDriven</span>
<span class="nd">@Polling</span><span class="o">(</span><span class="n">gigaSpace</span> <span class="o">=</span> <span class="s">&quot;gigaSpace&quot;</span><span class="o">,</span> <span class="n">passArrayAsIs</span> <span class="o">=</span> <span class="kc">true</span><span class="o">,</span> <span class="n">concurrentConsumers</span> <span class="o">=</span> <span class="mi">1</span><span class="o">,</span> <span class="n">maxConcurrentConsumers</span> <span class="o">=</span> <span class="mi">1</span><span class="o">)</span>
<span class="nd">@TransactionalEvent</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LocalTokenCounter</span> <span class="o">{</span>
    <span class="o">...</span>

    <span class="nd">@SpaceDataEvent</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">eventListener</span><span class="o">(</span><span class="n">TokenizedTweet</span><span class="o">[]</span> <span class="n">tokenizedTweets</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&quot;local counting of a bulk of &quot;</span> <span class="o">+</span> <span class="n">tokenizedTweets</span><span class="o">.</span><span class="na">length</span> <span class="o">+</span> <span class="s">&quot; tweets&quot;</span><span class="o">);</span>
        <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">tokenMap</span> <span class="o">=</span> <span class="n">newHashMap</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">TokenizedTweet</span> <span class="n">tokenizedTweet</span> <span class="o">:</span> <span class="n">tokenizedTweets</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">log</span><span class="o">.</span><span class="na">fine</span><span class="o">(</span><span class="s">&quot;--processing &quot;</span> <span class="o">+</span> <span class="n">tokenizedTweet</span><span class="o">);</span>
            <span class="k">for</span> <span class="o">(</span><span class="n">Entry</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">entry</span> <span class="o">:</span> <span class="n">tokenizedTweet</span><span class="o">.</span><span class="na">getTokenMap</span><span class="o">().</span><span class="na">entrySet</span><span class="o">())</span> <span class="o">{</span>
                <span class="n">String</span> <span class="n">token</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="na">getKey</span><span class="o">();</span>
                <span class="n">Integer</span> <span class="n">count</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">newCount</span> <span class="o">=</span> <span class="n">tokenMap</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">token</span><span class="o">)</span> <span class="o">?</span> <span class="n">tokenMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">token</span><span class="o">)</span> <span class="o">+</span> <span class="n">count</span> <span class="o">:</span> <span class="n">count</span><span class="o">;</span>
                <span class="n">log</span><span class="o">.</span><span class="na">finest</span><span class="o">(</span><span class="s">&quot;put token &quot;</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span> <span class="s">&quot; with count &quot;</span> <span class="o">+</span> <span class="n">newCount</span><span class="o">);</span>
                <span class="n">tokenMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">token</span><span class="o">,</span> <span class="n">newCount</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&quot;writing &quot;</span> <span class="o">+</span> <span class="n">tokenMap</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot; TokenCounters across the cluster&quot;</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Entry</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">entry</span> <span class="o">:</span> <span class="n">tokenMap</span><span class="o">.</span><span class="na">entrySet</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">token</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="na">getKey</span><span class="o">();</span>
            <span class="n">Integer</span> <span class="n">count</span> <span class="o">=</span> <span class="n">entry</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
            <span class="n">log</span><span class="o">.</span><span class="na">fine</span><span class="o">(</span><span class="s">&quot;writing new TokenCounter: token=&quot;</span> <span class="o">+</span> <span class="n">token</span> <span class="o">+</span> <span class="s">&quot;, count=&quot;</span> <span class="o">+</span> <span class="n">count</span><span class="o">);</span>
            <span class="n">clusteredGigaSpace</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="k">new</span> <span class="n">TokenCounter</span><span class="o">(</span><span class="n">token</span><span class="o">,</span> <span class="n">count</span><span class="o">),</span> <span class="n">LEASE_TTL</span><span class="o">,</span> <span class="n">WRITE_TIMEOUT</span><span class="o">,</span> <span class="n">WriteModifiers</span><span class="o">.</span><span class="na">UPDATE_OR_WRITE</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>

<div id="global"></div>

<h3 id="generating-global-counters">Generating Global Counters</h3>

<p>Now, the <strong>Reduce</strong> phase aggregates the local counters into global integer counters. This is achieved using another polling PollingContainer named <code>GlobalTokenCounter</code> listening for filtered <code>TokenCounter</code> objects. The container reads a batch of <code>TokenCounter</code> objects and updates the global count for each word. The global counter is an entry in the Space where the key is the token and the value is the aggregated count.</p>

<p>The following snippet shows the relevant <code>GlobalTokenCounter</code> sections.</p>

<div class="highlight"><pre><code class="java"><span class="nd">@EventDriven</span>
<span class="nd">@Polling</span><span class="o">(</span><span class="n">gigaSpace</span> <span class="o">=</span> <span class="s">&quot;gigaSpace&quot;</span><span class="o">,</span> <span class="n">concurrentConsumers</span> <span class="o">=</span> <span class="mi">1</span><span class="o">,</span> <span class="n">maxConcurrentConsumers</span> <span class="o">=</span> <span class="mi">1</span><span class="o">)</span>
<span class="nd">@TransactionalEvent</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GlobalTokenCounter</span> <span class="o">{</span>
    <span class="o">...</span>
    
    <span class="nd">@SpaceDataEvent</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">eventListener</span><span class="o">(</span><span class="n">TokenCounter</span> <span class="n">counter</span><span class="o">,</span><span class="n">GigaSpace</span> <span class="n">gigaSpace</span><span class="o">)</span> <span class="o">{</span>
    	<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&quot;Increment  local token &quot;</span> <span class="o">+</span><span class="n">counter</span><span class="o">.</span><span class="na">getToken</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot; by &quot;</span> <span class="o">+</span> <span class="n">counter</span><span class="o">.</span><span class="na">getCount</span><span class="o">());</span>
    	<span class="n">IdQuery</span><span class="o">&lt;</span><span class="n">GlobalCounter</span><span class="o">&gt;</span> <span class="n">counterIdQuery</span> <span class="o">=</span> <span class="k">new</span> <span class="n">IdQuery</span><span class="o">&lt;</span><span class="n">GlobalCounter</span><span class="o">&gt;(</span><span class="n">GlobalCounter</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">counter</span><span class="o">.</span><span class="na">getToken</span><span class="o">());</span>
    	<span class="n">ChangeResult</span><span class="o">&lt;</span><span class="n">GlobalCounter</span><span class="o">&gt;</span> <span class="n">changeResult</span> <span class="o">=</span> 
                          <span class="n">gigaSpace</span><span class="o">.</span><span class="na">change</span><span class="o">(</span><span class="n">counterIdQuery</span><span class="o">,</span> <span class="k">new</span> <span class="n">ChangeSet</span><span class="o">().</span><span class="na">increment</span><span class="o">(</span><span class="s">&quot;count&quot;</span><span class="o">,</span> <span class="n">counter</span><span class="o">.</span><span class="na">getCount</span><span class="o">()));</span>
    	<span class="c1">//No counter for this token already exists</span>
    	<span class="k">if</span> <span class="o">(</span><span class="n">changeResult</span><span class="o">.</span><span class="na">getNumberOfChangedEntries</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
    		<span class="n">gigaSpace</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="k">new</span> <span class="n">GlobalCounter</span><span class="o">(</span><span class="n">counter</span><span class="o">.</span><span class="na">getToken</span><span class="o">(),</span><span class="n">counter</span><span class="o">.</span><span class="na">getCount</span><span class="o">()));</span>
    	
        <span class="k">if</span> <span class="o">(</span><span class="n">log</span><span class="o">.</span><span class="na">isLoggable</span><span class="o">(</span><span class="n">Level</span><span class="o">.</span><span class="na">FINE</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">log</span><span class="o">.</span><span class="na">fine</span><span class="o">(</span><span class="s">&quot;+++ token=&quot;</span> <span class="o">+</span> <span class="n">counter</span><span class="o">.</span><span class="na">getToken</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot; count=&quot;</span> <span class="o">+</span> <span class="n">counter</span><span class="o">.</span><span class="na">getCount</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div>

<div id="persist"></div>

<h3 id="persisting-the-tweets-to-the-big-data-store">Persisting the Tweets to the Big Data Store</h3>

<p>In this example, we use <a href="http://cassandra.apache.org/">Apache Cassandra</a> as a historical Big Data store enabling future slicing and dicing of the raw tweets data. Similarly, we could use any database to persist the data, for example, another NoSQL data store or even to <a href="http://hadoop.apache.org/hdfs/">Hadoop HDFS</a>.</p>

<p><code>TweetPersister</code> is a batch <code>PollingContainer</code> that uses the <code>ExternalPersistence</code> interface. <code>TweetPersister</code> writes batches of 100 parsed tweets to the NoSQL data store. In this case we use the <code>CassandraExternalPersistence</code> implementation that uses the <a href="https://github.com/rantav/hector">Hector Cassandra client for java</a>.</p>

<div class="highlight"><pre><code class="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CassandraExternalPersistence</span> <span class="kd">implements</span> <span class="n">ExternalPersistence</span> <span class="o">{</span>
    <span class="o">...</span>
     <span class="nd">@PostConstruct</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">init</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="n">format</span><span class="o">(</span><span class="s">&quot;initializing connection to Cassandra DB: host=%s port=%d keyspace=%s column-family=%s\n&quot;</span> <span class="c1">//</span>
                <span class="o">,</span> <span class="n">host</span><span class="o">,</span> <span class="n">port</span><span class="o">,</span> <span class="n">keyspaceName</span><span class="o">,</span> <span class="n">columnFamily</span><span class="o">));</span>
        <span class="n">cluster</span> <span class="o">=</span> <span class="n">getOrCreateCluster</span><span class="o">(</span><span class="n">keyspaceName</span><span class="o">,</span> <span class="n">host</span> <span class="o">+</span> <span class="s">&quot;:&quot;</span> <span class="o">+</span> <span class="n">port</span><span class="o">);</span>
        <span class="n">keyspace</span> <span class="o">=</span> <span class="n">createKeyspace</span><span class="o">(</span><span class="n">keyspaceName</span><span class="o">,</span> <span class="n">cluster</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">write</span><span class="o">(</span><span class="n">Object</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(!(</span><span class="n">data</span> <span class="k">instanceof</span> <span class="n">SpaceDocument</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">log</span><span class="o">.</span><span class="na">log</span><span class="o">(</span><span class="n">Level</span><span class="o">.</span><span class="na">WARNING</span><span class="o">,</span> <span class="s">&quot;Received non document event&quot;</span><span class="o">);</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">SpaceDocument</span> <span class="n">document</span> <span class="o">=</span> <span class="o">(</span><span class="n">SpaceDocument</span><span class="o">)</span> <span class="n">data</span><span class="o">;</span>
        <span class="n">Long</span> <span class="n">id</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">&quot;Id&quot;</span><span class="o">);</span>
        <span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&quot;persisting data with id=&quot;</span> <span class="o">+</span> <span class="n">id</span><span class="o">);</span>
        <span class="n">Mutator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">mutator</span> <span class="o">=</span> <span class="n">createMutator</span><span class="o">(</span><span class="n">keyspace</span><span class="o">,</span> <span class="n">stringSerializer</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">key</span> <span class="o">:</span> <span class="n">document</span><span class="o">.</span><span class="na">getProperties</span><span class="o">().</span><span class="na">keySet</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">Object</span> <span class="n">value</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">value</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">mutator</span><span class="o">.</span><span class="na">addInsertion</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">id</span><span class="o">),</span> <span class="c1">//</span>
                        <span class="n">columnFamily</span><span class="o">,</span> <span class="c1">//</span>
                        <span class="n">createColumn</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">value</span><span class="o">.</span><span class="na">toString</span><span class="o">(),</span> <span class="n">stringSerializer</span><span class="o">,</span> <span class="n">stringSerializer</span><span class="o">));</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">mutator</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="o">...</span>
<span class="o">}</span>
</code></pre></div>


-->


        </div>
      </div>

      <div class='row'>
        <div class="footer">
          <ul class='list-inline'>
    <li>
        Simply Scale with
    </li>
    <li>
        <a href="http://www.gigaspaces.com">GigaSpaces</a>
    </li>
    <li>
        <a href="http://www.gigaspaces.com/wiki/x/xwBmAg" class="smalltext">Legal Notice</a>
    </li>
    <li>
        <a href="http://www.gigaspaces.com/wiki/x/xgBmAg" class="smalltext">3rd Party License Agreements</a>
    </li>
    <li>
        <a href="http://www.gigaspaces.com/wiki/x/BQFmAg" class="smalltext">Site Map</a>
    </li>
    <li>
        <a href="mailto:techw@gigaspaces.com">Contact Admin</a>
    </li>
    <li>
        <i><a href="http://www.atlassian.com/software/confluence">Powered by Atlassian Confluence</a></i>
    </li>
</ul>

        </div>
      </div>

    </div><!-- /container -->
    <script type="text/javascript" src="/js/jquery.js"></script>
    <script type="text/javascript" src="/js/bootstrap.js"></script>
    <script type="text/javascript" src="/js/jquery.treeview.js"></script>
    <script>
      $(function () {
        $(".tabsection").each(function(index) {
          list = "";

          $(this).find(".tab-pane").each(function(index) {
            list_class = "";
            timestamp = parseInt(Date.now() * Math.random()) ;

            if(index === 0){
              list_class = "class='active'";
              $(this).prop("class", $(this).prop("class") + " active");
            }

            list += "<li " + list_class +"><a href='#" + timestamp + $(this).prop("id") +"'>" + $(this).prop("title") +"</a></li>";
            $(this).prop("id", timestamp + $(this).prop("id"));
          });
          $(this).find(".nav").html(list);
        });

        $('ul.nav a').click(function (e) {
          e.preventDefault();
          $(this).tab('show');
        });

        summary_url = "";
        $('.col-md-8').children('h1').each(function(index, item) {
          summary_url += '<li><a href="#'+item.id+'">'+item.innerHTML+'</a></li>';
        });

        $("#summarypanel").html(summary_url);
      })
      $("#navigation").treeview({
        persist: "location"
      });
    </script>
  </body>
</html>
